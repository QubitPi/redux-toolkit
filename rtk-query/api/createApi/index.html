<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-rtk-query/api/createApi" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>createApi | Redux Toolkit</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true property=og:image content=https://redux-toolkit.qubitpi.org/img/redux-logo-landscape.png><meta data-rh=true name=twitter:image content=https://redux-toolkit.qubitpi.org/img/redux-logo-landscape.png><meta data-rh=true property=og:url content=https://redux-toolkit.qubitpi.org/rtk-query/api/createApi><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=twitter:card content=summary><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="createApi | Redux Toolkit"><meta data-rh=true name=description content="RTK Query > API: createApi reference"><meta data-rh=true property=og:description content="RTK Query > API: createApi reference"><link data-rh=true rel=icon href=/img/favicon/favicon.ico><link data-rh=true rel=canonical href=https://redux-toolkit.qubitpi.org/rtk-query/api/createApi><link data-rh=true rel=alternate href=https://redux-toolkit.qubitpi.org/rtk-query/api/createApi hreflang=en><link data-rh=true rel=alternate href=https://redux-toolkit.qubitpi.org/rtk-query/api/createApi hreflang=x-default><link rel=preconnect href=https://redux-docs-umami.up.railway.app><script async defer src=https://redux-docs-umami.up.railway.app/script.js data-website-id=616c102e-05dd-4a74-b63e-01bb52f1bc6c data-auto-track=true data-do-not-track=true data-cache=true data-exclude-search=false data-exclude-hash=false></script><link rel=stylesheet href=/assets/css/styles.c33f9cb6.css><script src=/assets/js/runtime~main.22154326.js defer></script><script src=/assets/js/main.2307a05a.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":(window.matchMedia("(prefers-color-scheme: light)").matches,"light"),document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/redux.svg><link rel=preload as=image href=/img/redux_white.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_oPtH href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class=announcementBar_zJRd style=background-color:#fafbfc;color:#091E42 role=banner><div class="content_bSb_ announcementBarContent_t7IR">      
      <a href=https://redux.dev>
        <img src=/img/course-callout-wide.svg alt="Redux.dev - a new course by Mark Erikson + ui.dev - Learn more" style="margin-top: 5px;">
      </a>
      </div></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/redux.svg alt="Redux Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src=/img/redux.svg alt="Redux Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">Redux Toolkit</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/introduction/getting-started>Getting Started</a><a class="navbar__item navbar__link" href=/tutorials/overview>Tutorials</a><a class="navbar__item navbar__link" href=/usage/usage-guide>Usage Guide</a><a class="navbar__item navbar__link" href=/api/configureStore>API</a><a class="navbar__item navbar__link" href=/rtk-query/overview>RTK Query</a><a href=https://github.com/reduxjs/redux-toolkit target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_lgto><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_U96C><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_bzqh></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_MB5r"><div class=docsWrapper__sE8><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type=button></button><div class=docRoot_DfVB><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class=sidebarViewport_KYo0><div class=sidebar_CUen><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1 menuWithAnnouncementBar_YufC"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/introduction/getting-started>Introduction</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/introduction/getting-started>Getting Started</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/introduction/why-rtk-is-redux-today>Why Redux Toolkit is How To Use Redux Today</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/tutorials/overview>Tutorials</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/overview>Tutorials Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/quick-start>Quick Start</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/typescript>TypeScript Quick Start</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/rtk-query>RTK Query Quick Start</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/usage/migrating-to-modern-redux>Using Redux Toolkit</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/usage/migrating-to-modern-redux>Migrations</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/usage-guide>Usage Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/usage-with-typescript>Usage With TypeScript</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/immer-reducers>Writing Reducers with Immer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/nextjs>Setup with Next.js</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/api/configureStore>API Reference</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/rtk-query/overview>RTK Query</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/overview>RTK Query Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/comparison>Comparison with Other Tools</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/usage/examples>Examples</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/usage-with-typescript>Usage With TypeScript</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/rtk-query/usage/queries>Using RTK Query</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/rtk-query/api/createApi>API Reference</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/rtk-query/api/createApi>createApi</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/fetchBaseQuery>fetchBaseQuery</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/ApiProvider>ApiProvider</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/setupListeners>setupListeners</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/rtk-query/api/created-api/overview>Generated API Slices</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/overview>API Slice Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/redux-integration>Redux Integration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/endpoints>Endpoints</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/hooks>React Hooks</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/code-splitting>Code Splitting</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/api-slice-utils>API Slice Utilities</a></ul></ul></ul></ul></nav></div></div></aside><main class=docMainContainer_a9sJ><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_Qr34"><div class=docItemContainer_tjFy><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_sfvy><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>RTK Query</span><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>API Reference</span><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>createApi</span><meta itemprop=position content=3></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type=button class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><p> </p>
<header><h1><code>createApi</code></h1></header>
<p><code>createApi</code> is the core of RTK Query's functionality. It allows you to define a set of "endpoints" that describe how to retrieve data from backend APIs and other async sources, including the configuration of how to fetch and transform that data. It generates <a href=/rtk-query/api/created-api/overview>an "API slice" structure</a> that contains Redux logic (and optionally React hooks) that encapsulate the data fetching and caching process for you.</p>
<div class="theme-admonition theme-admonition-tip admonition_WCGJ alert alert--success"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_pbrs><p>Typically, you should only have one API slice per base URL that your application needs to communicate with. For example, if your site fetches data from both <code>/api/posts</code> and <code>/api/users</code>, you would have a single API slice with <code>/api/</code> as the base URL, and separate endpoint definitions for <code>posts</code> and <code>users</code>. This allows you to effectively take advantage of <a href=/rtk-query/usage/automated-refetching>automated re-fetching</a> by defining <a href=/rtk-query/usage/automated-refetching#tags>tag</a> relationships across endpoints.<p>This is because:<ul>
<li>Automatic tag invalidation only works within a single API slice. If you have multiple API slices, the automatic invalidation won't work across them.</li>
<li>Every <code>createApi</code> call generates its own middleware, and each middleware added to the store will run checks against every dispatched action. That has a perf cost that adds up. So, if you called <code>createApi</code> 10 times and added 10 separate API middleware to the store, that will be noticeably slower perf-wise.</li>
</ul><p>For maintainability purposes, you may wish to split up endpoint definitions across multiple files, while still maintaining a single API slice which includes all of these endpoints. See <a href=/rtk-query/usage/code-splitting>code splitting</a> for how you can use the <code>injectEndpoints</code> property to inject API endpoints from other files into a single API slice definition.</div></div>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Example: src/services/pokemon.ts</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token comment" style=color:#778090>// Need to use the React-specific entry point to allow generating React hooks</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> Pokemon </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'./types'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Define a service using a base URL and expected endpoints</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> pokemonApi </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'pokemonApi'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'https://pokeapi.co/api/v2/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    getPokemonByName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Pokemon</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>string</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">name</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>pokemon/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Export hooks for usage in function components, which are</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// auto-generated based on the defined endpoints</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> useGetPokemonByNameQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> pokemonApi</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Example: src/services/pokemon.js</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token comment" style=color:#778090>// Need to use the React-specific entry point to allow generating React hooks</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Define a service using a base URL and expected endpoints</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> pokemonApi </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'pokemonApi'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'https://pokeapi.co/api/v2/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPokemonByName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">name</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>pokemon/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Export hooks for usage in function components, which are</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// auto-generated based on the defined endpoints</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> useGetPokemonByNameQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> pokemonApi</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=createapi-parameters><code>createApi</code> Parameters<a href=#createapi-parameters class=hash-link aria-label="Direct link to createapi-parameters" title="Direct link to createapi-parameters">​</a></h2>
<p><code>createApi</code> accepts a single configuration object parameter with the following options:</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>baseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">args</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> InternalQueryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> api</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> extraOptions</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> DefinitionExtraOptions</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>endpoints</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> EndpointBuilder</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">InternalQueryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> TagTypes</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Definitions</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  extractRehydrationInfo</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    action</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> UnknownAction</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      reducerPath</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ReducerPath</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> CombinedState</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">Definitions</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> TagTypes</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> ReducerPath</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  tagTypes</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>readonly</span><span class="token plain"> TagTypes</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  reducerPath</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ReducerPath</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> SerializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">InternalQueryArgs</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  keepUnusedDataFor</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// value is in seconds</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  refetchOnMountOrArgChange</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// value is in seconds</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  refetchOnFocus</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token punctuation" style=color:#F8F8F2>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  refetchOnReconnect</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token punctuation" style=color:#F8F8F2>;</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=basequery><code>baseQuery</code><a href=#basequery class=hash-link aria-label="Direct link to basequery" title="Direct link to basequery">​</a></h3>
<p>The base query used by each endpoint if no <code>queryFn</code> option is specified. RTK Query exports a utility called <a href=/rtk-query/api/fetchBaseQuery>fetchBaseQuery</a> as a lightweight wrapper around <code>fetch</code> for common use-cases. See <a href=/rtk-query/usage/customizing-queries>Customizing Queries</a> if <code>fetchBaseQuery</code> does not handle your requirements.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=basequery-function-arguments>baseQuery function arguments<a href=#basequery-function-arguments class=hash-link aria-label="Direct link to baseQuery function arguments" title="Direct link to baseQuery function arguments">​</a></h4>
<ul>
<li><code>args</code> - The return value of the <code>query</code> function for a given endpoint</li>
<li><code>api</code> - The <code>BaseQueryApi</code> object contains:<!-- -->
<ul>
<li><code>signal</code> - An <a href=https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal target=_blank rel="noopener noreferrer"><code>AbortSignal</code></a> object that may be used to abort DOM requests and/or read whether the request is aborted.</li>
<li><code>abort</code> - The <a href=https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort target=_blank rel="noopener noreferrer"><code>abort()</code></a> method of the AbortController attached to <code>signal</code>.</li>
<li><code>dispatch</code> - The <code>store.dispatch</code> method for the corresponding Redux store</li>
<li><code>getState</code> - A function that may be called to access the current store state</li>
<li><code>extra</code> - Provided as thunk.extraArgument to the configureStore getDefaultMiddleware option.</li>
<li><code>endpoint</code> - The name of the endpoint.</li>
<li><code>type</code> - Type of request (<code>query</code> or <code>mutation</code>).</li>
<li><code>forced</code> - Indicates if a query has been forced.</li>
<li><code>queryCacheKey</code>- The computed query cache key.</li>
</ul>
</li>
<li><code>extraOptions</code> - The value of the optional <code>extraOptions</code> property provided for a given endpoint</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=basequery-function-signature>baseQuery function signature<a href=#basequery-function-signature class=hash-link aria-label="Direct link to baseQuery function signature" title="Direct link to baseQuery function signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Base Query signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">BaseQueryFn</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  Args </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>any</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  Result </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>unknown</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  Error </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>unknown</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  DefinitionExtraOptions </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name punctuation" style=color:#F8F8F2>{</span><span class="token class-name punctuation" style=color:#F8F8F2>}</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  Meta </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name punctuation" style=color:#F8F8F2>{</span><span class="token class-name punctuation" style=color:#F8F8F2>}</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name"></span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  args</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Args</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  extraOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> DefinitionExtraOptions</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> MaybePromise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">Result</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> Error</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> Meta</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">BaseQueryApi</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  signal</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> AbortSignal</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>abort</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">reason</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>void</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  dispatch</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ThunkDispatch</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>getState</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>unknown</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  extra</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>unknown</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpoint</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'query'</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'mutation'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  forced</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">QueryReturnValue</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name constant" style=color:#F92672>T</span><span class="token class-name"> </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>unknown</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"> </span><span class="token class-name constant" style=color:#F92672>E</span><span class="token class-name"> </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>unknown</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"> </span><span class="token class-name constant" style=color:#F92672>M</span><span class="token class-name"> </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>unknown</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      error</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>E</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      data</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      meta</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>M</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      error</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      data</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>T</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      meta</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>M</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=endpoints><code>endpoints</code><a href=#endpoints class=hash-link aria-label="Direct link to endpoints" title="Direct link to endpoints">​</a></h3>
<p>Endpoints are a set of operations that you want to perform against your server. You define them as an object using the builder syntax. There are three endpoint types: <a href=/rtk-query/usage/queries><code>query</code></a>, <a href=/rtk-query/usage/infinite-queries><code>infiniteQuery</code></a> and <a href=/rtk-query/usage/mutations><code>mutation</code></a>.</p>
<p>See <a href=#endpoint-definition-parameters>Endpoint Definition Parameters</a> for details on individual properties.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=query-endpoint-definition>Query endpoint definition<a href=#query-endpoint-definition class=hash-link aria-label="Direct link to Query endpoint definition" title="Direct link to Query endpoint definition">​</a></h4>
<p>Query endpoints (defined with <code>build.query()</code>) are used to cache data fetched from the server.</p>
<p>You must specify either a <code>query</code> field (which will use the API's <code>baseQuery</code> to make a request), or a <code>queryFn</code> function with your own async logic. All other fields are optional.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Query endpoint definition</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">FullTagDescription</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name">TagType</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> TagType</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">TagDescription</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name">TagType</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> TagType </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> FullTagDescription</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagType</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">TagDescriptionArray</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name">TagTypes </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> ReadonlyArray</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  TagDescription</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagTypes</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>null</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">ResultDescription</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  TagTypes </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ResultType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  QueryArg</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ErrorType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  MetaType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name"></span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> TagDescriptionArray</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagTypes</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  result</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultType </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  error</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ErrorType </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  meta</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MetaType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> TagDescriptionArray</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagTypes</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">QueryDefinition</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  QueryArg</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  BaseQuery </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> BaseQueryFn</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  TagTypes </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ResultType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ReducerPath </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name"> </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name"></span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryArg</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* either `query` or `queryFn` can be present, but not both simultaneously */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>queryFn</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    api</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    extraOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryExtraOptions</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token function-variable function" style=color:#E6D874>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Parameters</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token number" style=color:#AE81FF>0</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> ReturnType</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MaybePromise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">ResultType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* transformResponse only available with `query`, not `queryFn` */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  transformResponse</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    baseQueryReturnValue</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    meta</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryMeta</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultType </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">ResultType</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* transformErrorResponse only available with `query`, not `queryFn` */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  transformErrorResponse</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    baseQueryReturnValue</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    meta</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryMeta</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>unknown</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  extraOptions</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryExtraOptions</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  providesTags</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultDescription</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    TagTypes</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    ResultType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  keepUnusedDataFor</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  onQueryStarted</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      queryFulfilled</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      updateCachedData</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// available for query endpoints only</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  onCacheEntryAdded</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      cacheEntryRemoved</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      cacheDataLoaded</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      updateCachedData</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// available for query endpoints only</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryCacheLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  argSchema</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> StandardSchemaV1</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* only available with `query`, not `queryFn` */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  rawResponseSchema</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> StandardSchemaV1</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQueryResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  responseSchema</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> StandardSchemaV1</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">ResultType</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* only available with `query`, not `queryFn` */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  rawErrorResponseSchema</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> StandardSchemaV1</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  errorResponseSchema</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> StandardSchemaV1</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  metaSchema</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> StandardSchemaV1</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQueryMeta</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=infinite-query-endpoint-definition>Infinite Query endpoint definition<a href=#infinite-query-endpoint-definition class=hash-link aria-label="Direct link to Infinite Query endpoint definition" title="Direct link to Infinite Query endpoint definition">​</a></h4>
<p>Infinite query endpoints (defined with <code>build.infiniteQuery()</code>) are used to cache multi-page data sets from the server. They have all the same callbacks and options as standard query endpoints, but also require an additional <a href=#infinitequeryoptions><code>infiniteQueryOptions</code></a> field to specify how to calculate the unique parameters to fetch each page.</p>
<p>For infinite query endpoints, there is a separation between the "query arg" used for the cache key, and the "page param" used to fetch a specific page. For example, a Pokemon API endpoint might have a string query arg like <code>"fire"</code> , but use a page number as the param to determine which page to fetch out of the results. The <code>query</code> and <code>queryFn</code> methods will receive a combined <code>{queryArg, pageParam}</code> object as the argument, rather than just the <code>queryArg</code> by itself.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Infinite Query endpoint definition</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PageParamFunction</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name">DataType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"> PageParam</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"> QueryArg</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  firstPage</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> DataType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  allPages</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">DataType</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  firstPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> PageParam</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  allPageParams</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">PageParam</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  queryArg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> PageParam </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>null</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">InfiniteQueryCombinedArg</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name">QueryArg</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"> PageParam</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  queryArg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  pageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> PageParam</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">InfiniteQueryDefinition</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  QueryArg</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  PageParam</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  BaseQuery </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> BaseQueryFn</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  TagTypes </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ResultType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ReducerPath </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name"> </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name"></span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>// Infinite queries have all the same options as query endpoints,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>// but store the `{pages, pageParams}` structure, and receive an object</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>// with both `{queryArg, pageParam}` as the arg for `query` and `queryFn`.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  QueryDefinition</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    InfiniteQueryCombinedArg</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PageParam</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    BaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    TagTypes</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    InfiniteData</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">ResultType</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>&</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token doc-comment comment" style=color:#778090>/**</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>     * Required options to configure the infinite query behavior.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>     * `initialPageParam` and `getNextPageParam` are required, to</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>     * ensure the infinite query can properly fetch the next page of data.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>     * `initialPageparam` may be specified when using the</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>     * endpoint, to override the default value.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    infiniteQueryOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token doc-comment comment" style=color:#778090>/**</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * The initial page parameter to use for the first page fetch.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      initialPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> PageParam</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token doc-comment comment" style=color:#778090>/**</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * This function is required to automatically get the next cursor for infinite queries.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * The result will also be used to determine the value of `hasNextPage`.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getNextPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> PageParamFunction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">DataType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PageParam</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token doc-comment comment" style=color:#778090>/**</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * This function can be set to automatically get the previous cursor for infinite queries.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * The result will also be used to determine the value of `hasPreviousPage`.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getPreviousPageParam</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> PageParamFunction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">DataType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PageParam</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token doc-comment comment" style=color:#778090>/**</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * If specified, only keep this many pages in cache at once.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * If additional pages are fetched, older pages in the other</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       * direction will be dropped from the cache.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>       */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      maxPages</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=mutation-endpoint-definition>Mutation endpoint definition<a href=#mutation-endpoint-definition class=hash-link aria-label="Direct link to Mutation endpoint definition" title="Direct link to Mutation endpoint definition">​</a></h4>
<p>Mutation endpoints (defined with <code>build.mutation()</code>) are used to send updates to the server, and force invalidation and refetching of query endpoints.</p>
<p>As with queries, you must specify either the <code>query</code> option or the <code>queryFn</code> async method.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Mutation endpoint definition</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">MutationDefinition</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  QueryArg</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  BaseQuery </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> BaseQueryFn</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  TagTypes </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ResultType</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  ReducerPath </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name"> </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  Context </span><span class="token class-name operator" style=color:#F8F8F2>=</span><span class="token class-name"> Record</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name builtin" style=color:#a6e22e>string</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"> </span><span class="token class-name builtin" style=color:#a6e22e>any</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name"></span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryArg</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* either `query` or `queryFn` can be present, but not both simultaneously */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>queryFn</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    api</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    extraOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryExtraOptions</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token function-variable function" style=color:#E6D874>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Parameters</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token number" style=color:#AE81FF>0</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> ReturnType</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MaybePromise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">ResultType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* transformResponse only available with `query`, not `queryFn` */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  transformResponse</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    baseQueryReturnValue</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    meta</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryMeta</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultType </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">ResultType</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token comment" style=color:#778090>/* transformErrorResponse only available with `query`, not `queryFn` */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  transformErrorResponse</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    baseQueryReturnValue</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    meta</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryMeta</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>unknown</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  extraOptions</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryExtraOptions</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  invalidatesTags</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultDescription</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagTypes</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> ResultType</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  onQueryStarted</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      queryFulfilled</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MutationLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  onCacheEntryAdded</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      cacheEntryRemoved</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      cacheDataLoaded</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MutationCacheLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=how-endpoints-get-used>How endpoints get used<a href=#how-endpoints-get-used class=hash-link aria-label="Direct link to How endpoints get used" title="Direct link to How endpoints get used">​</a></h4>
<p>When defining a key like <code>getPosts</code> as shown below, it's important to know that this name will become exportable from <code>api</code> and be able to referenced under <code>api.endpoints.getPosts.useQuery()</code>, <code>api.endpoints.getPosts.initiate()</code> and <code>api.endpoints.getPosts.select()</code>. The same thing applies to <code>mutation</code>s but they reference <code>useMutation</code> instead of <code>useQuery</code>.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PostsResponse</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> Post</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">PostsResponse</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style=color:#F92672>void</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>providesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        result </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> result</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    addPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>mutation</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> Partial</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">body</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        url</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>posts</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        method</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'POST'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        body</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      invalidatesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Auto-generated hooks</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> useGetPostsQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> useAddPostMutation </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Possible exports</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> endpoints</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> reducerPath</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> reducer</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> middleware </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// reducerPath, reducer, middleware are only used in store configuration</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// endpoints will have:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// endpoints.getPosts.initiate(), endpoints.getPosts.select(), endpoints.getPosts.useQuery()</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// endpoints.addPost.initiate(), endpoints.addPost.select(), endpoints.addPost.useMutation()</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// see `createApi` overview for _all exports_</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>providesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">result</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        result </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> result</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> id </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>addPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>mutation</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">body</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token literal-property property" style=color:#F92672>url</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>posts</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token literal-property property" style=color:#F92672>method</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'POST'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        body</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token literal-property property" style=color:#F92672>invalidatesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Auto-generated hooks</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> useGetPostsQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> useAddPostMutation </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// Possible exports</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> endpoints</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> reducerPath</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> reducer</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> middleware </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// reducerPath, reducer, middleware are only used in store configuration</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// endpoints will have:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// endpoints.getPosts.initiate(), endpoints.getPosts.select(), endpoints.getPosts.useQuery()</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// endpoints.addPost.initiate(), endpoints.addPost.select(), endpoints.addPost.useMutation()</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// see `createApi` overview for _all exports_</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=extractrehydrationinfo><code>extractRehydrationInfo</code><a href=#extractrehydrationinfo class=hash-link aria-label="Direct link to extractrehydrationinfo" title="Direct link to extractrehydrationinfo">​</a></h3>
<p>A function that is passed every dispatched action. If this returns something other than <code>undefined</code>,
that return value will be used to rehydrate fulfilled & errored queries.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>next-redux-wrapper rehydration example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> Action</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PayloadAction </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>HYDRATE</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'next-redux-wrapper'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">RootState</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// normally inferred from state</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>isHydrateAction</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">action</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Action</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> action </span><span class="token keyword" style=color:#F92672>is</span><span class="token plain"> PayloadAction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">RootState</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> action</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">type </span><span class="token operator" style=color:#F8F8F2>===</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>HYDRATE</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>extractRehydrationInfo</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">action</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> reducerPath </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token keyword" style=color:#F92672>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>isHydrateAction</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">action</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> action</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">payload</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">reducerPath</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// omitted</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>next-redux-wrapper rehydration example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>HYDRATE</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'next-redux-wrapper'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>isHydrateAction</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">action</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> action</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>===</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>HYDRATE</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token function" style=color:#E6D874>extractRehydrationInfo</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">action</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> </span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> reducerPath </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token keyword control-flow" style=color:#F92672>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>isHydrateAction</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">action</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> action</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token property-access">payload</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">reducerPath</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// omitted</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<p>See also <a href=/rtk-query/usage/server-side-rendering>Server Side Rendering</a> and
<a href=/rtk-query/usage/persistence-and-rehydration>Persistence and Rehydration</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=tagtypes><code>tagTypes</code><a href=#tagtypes class=hash-link aria-label="Direct link to tagtypes" title="Direct link to tagtypes">​</a></h3>
<p>An array of string tag type names. Specifying tag types is optional, but you should define them so that they can be used for caching and invalidation. When defining a tag type, you will be able to <a href=/rtk-query/usage/automated-refetching#providing-tags>provide</a> them with <code>providesTags</code> and <a href=/rtk-query/usage/automated-refetching#invalidating-tags>invalidate</a> them with <code>invalidatesTags</code> when configuring <a href=#endpoints>endpoints</a>.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'User'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'User'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=reducerpath><code>reducerPath</code><a href=#reducerpath class=hash-link aria-label="Direct link to reducerpath" title="Direct link to reducerpath">​</a></h3>
<p>The <code>reducerPath</code> is a <em>unique</em> key that your service will be mounted to in your store. If you call <code>createApi</code> more than once in your application, you will need to provide a unique value each time. Defaults to <code>'api'</code>.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>apis.js</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> apiOne </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'apiOne'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">builder</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> apiTwo </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'apiTwo'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">builder</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>apis.js</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> apiOne </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'apiOne'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">builder</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> apiTwo </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>reducerPath</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'apiTwo'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">builder</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...endpoints</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=serializequeryargs><code>serializeQueryArgs</code><a href=#serializequeryargs class=hash-link aria-label="Direct link to serializequeryargs" title="Direct link to serializequeryargs">​</a></h3>
<p>Accepts a custom function if you have a need to change the creation of cache keys for any reason.</p>
<p>By default, this function will take the query arguments, sort object keys where applicable, stringify the result, and concatenate it with the endpoint name. This creates a cache key based on the combination of arguments + endpoint name (ignoring object key order), such that calling any given endpoint with the same arguments will result in the same cache key.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=invalidationbehavior><code>invalidationBehavior</code><a href=#invalidationbehavior class=hash-link aria-label="Direct link to invalidationbehavior" title="Direct link to invalidationbehavior">​</a></h3>
<p>Defaults to <code>'delayed'</code>. This setting allows you to control when tags are invalidated after a mutation.</p>
<ul>
<li><code>'immediately'</code>: Queries are invalidated instantly after the mutation finished, even if they are running.
If the query provides tags that were invalidated while it ran, it won't be re-fetched.</li>
<li><code>'delayed'</code>: Invalidation only happens after all queries and mutations are settled.
This ensures that queries are always invalidated correctly and automatically "batches" invalidations of concurrent mutations.
Note that if you constantly have some queries (or mutations) running, this can delay tag invalidations indefinitely.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=keepunuseddatafor><code>keepUnusedDataFor</code><a href=#keepunuseddatafor class=hash-link aria-label="Direct link to keepunuseddatafor" title="Direct link to keepunuseddatafor">​</a></h3>
<p>Defaults to <code>60</code> <em>(this value is in seconds)</em>. This is how long RTK Query will keep your data cached for <strong>after</strong> the last component unsubscribes. For example, if you query an endpoint, then unmount the component, then mount another component that makes the same request within the given time frame, the most recent value will be served from the cache.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>keepUnusedDataFor example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PostsResponse</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> Post</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">PostsResponse</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style=color:#F92672>void</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      keepUnusedDataFor</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>5</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>keepUnusedDataFor example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token literal-property property" style=color:#F92672>keepUnusedDataFor</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>5</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=refetchonmountorargchange><code>refetchOnMountOrArgChange</code><a href=#refetchonmountorargchange class=hash-link aria-label="Direct link to refetchonmountorargchange" title="Direct link to refetchonmountorargchange">​</a></h3>
<p>Defaults to <code>false</code>. This setting allows you to control whether if a cached result is already available RTK Query will only serve a cached result, or if it should <code>refetch</code> when set to <code>true</code> or if an adequate amount of time has passed since the last successful query result.</p>
<ul>
<li><code>false</code> - Will not cause a query to be performed <em>unless</em> it does not exist yet.</li>
<li><code>true</code> - Will always refetch when a new subscriber to a query is added. Behaves the same as calling the <code>refetch</code> callback or passing <code>forceRefetch: true</code> in the action creator.</li>
<li><code>number</code> - <strong>Value is in seconds</strong>. If a number is provided and there is an existing query in the cache, it will compare the current time vs the last fulfilled timestamp, and only refetch if enough time has elapsed.</li>
</ul>
<p>If you specify this option alongside <code>skip: true</code>, this <strong>will not be evaluated</strong> until <code>skip</code> is false.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>You can set this globally in <code>createApi</code>, but you can also override the default value and have more granular control by passing <code>refetchOnMountOrArgChange</code> to each individual hook call or similarly by passing <code>forceRefetch: true</code> when dispatching the <a href=/rtk-query/api/created-api/endpoints#initiate><code>initiate</code></a> action.</div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=refetchonfocus><code>refetchOnFocus</code><a href=#refetchonfocus class=hash-link aria-label="Direct link to refetchonfocus" title="Direct link to refetchonfocus">​</a></h3>
<p>Defaults to <code>false</code>. This setting allows you to control whether RTK Query will try to refetch all subscribed queries after the application window regains focus.</p>
<p>If you specify this option alongside <code>skip: true</code>, this <strong>will not be evaluated</strong> until <code>skip</code> is false.</p>
<p>Note: requires <a href=/rtk-query/api/setupListeners><code>setupListeners</code></a> to have been called.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>You can set this globally in <code>createApi</code>, but you can also override the default value and have more granular control by passing <code>refetchOnFocus</code> to each individual hook call or when dispatching the <a href=/rtk-query/api/created-api/endpoints#initiate><code>initiate</code></a> action.<p>If you specify <code>track: false</code> when manually dispatching queries, RTK Query will not be able to automatically refetch for you.</div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=refetchonreconnect><code>refetchOnReconnect</code><a href=#refetchonreconnect class=hash-link aria-label="Direct link to refetchonreconnect" title="Direct link to refetchonreconnect">​</a></h3>
<p>Defaults to <code>false</code>. This setting allows you to control whether RTK Query will try to refetch all subscribed queries after regaining a network connection.</p>
<p>If you specify this option alongside <code>skip: true</code>, this <strong>will not be evaluated</strong> until <code>skip</code> is false.</p>
<p>Note: requires <a href=/rtk-query/api/setupListeners><code>setupListeners</code></a> to have been called.</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>You can set this globally in <code>createApi</code>, but you can also override the default value and have more granular control by passing <code>refetchOnReconnect</code> to each individual hook call or when dispatching the <a href=/rtk-query/api/created-api/endpoints#initiate><code>initiate</code></a> action.<p>If you specify <code>track: false</code> when manually dispatching queries, RTK Query will not be able to automatically refetch for you.</div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=onschemafailure><code>onSchemaFailure</code><a href=#onschemafailure class=hash-link aria-label="Direct link to onschemafailure" title="Direct link to onschemafailure">​</a></h3>
<p>A function that is called when a schema validation fails.</p>
<p>Gets called with a <code>NamedSchemaError</code> and an object containing the endpoint name, the type of the endpoint, the argument passed to the endpoint, and the query cache key (if applicable).</p>
<p><code>NamedSchemaError</code> has the following properties:</p>
<ul>
<li><code>issues</code>: an array of issues that caused the validation to fail</li>
<li><code>value</code>: the value that was passed to the schema</li>
<li><code>schemaName</code>: the name of the schema that was used to validate the value (e.g. <code>argSchema</code>)</li>
</ul>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>onSchemaFailure</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">error</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> info</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token builtin" style=color:#a6e22e>console</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>error</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">error</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> info</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>You can set this globally in <code>createApi</code>, but you can also override the default value and have more granular control by passing <code>onSchemaFailure</code> to each individual endpoint definition.</div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=catchschemafailure><code>catchSchemaFailure</code><a href=#catchschemafailure class=hash-link aria-label="Direct link to catchschemafailure" title="Direct link to catchschemafailure">​</a></h3>
<p>Convert a schema validation failure into an error shape matching base query errors.</p>
<p>When not provided, schema failures are treated as fatal, and normal error handling such as tag invalidation will not be executed.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      responseSchema</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>object</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>number</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>string</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>catchSchemaFailure</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">error</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> info</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    status</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"CUSTOM_ERROR"</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    error</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> error</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">schemaName </span><span class="token operator" style=color:#F8F8F2>+</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>" failed validation"</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    data</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> error</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">issues</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>You can set this globally in <code>createApi</code>, but you can also override the default value and have more granular control by passing <code>catchSchemaFailure</code> to each individual endpoint definition.</div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=skipschemavalidation><code>skipSchemaValidation</code><a href=#skipschemavalidation class=hash-link aria-label="Direct link to skipschemavalidation" title="Direct link to skipschemavalidation">​</a></h3>
<p>Defaults to <code>false</code>.</p>
<p>If set to <code>true</code>, will skip schema validation for all endpoints, unless overridden by the endpoint.</p>
<p>Can be overridden for specific schemas by passing an array of schema types to skip.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  skipSchemaValidation</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> process</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">env</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token constant" style=color:#F92672>NODE_ENV</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>===</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"test"</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>"response"</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token boolean" style=color:#AE81FF>false</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// skip schema validation for response in tests, since we'll be mocking the response</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      responseSchema</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>object</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>number</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>string</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>You can set this globally in <code>createApi</code>, but you can also override the default value and have more granular control by passing <code>skipSchemaValidation</code> to each individual endpoint definition.</div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=endpoint-definition-parameters>Endpoint Definition Parameters<a href=#endpoint-definition-parameters class=hash-link aria-label="Direct link to Endpoint Definition Parameters" title="Direct link to Endpoint Definition Parameters">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=query><code>query</code><a href=#query class=hash-link aria-label="Direct link to query" title="Direct link to query">​</a></h3>
<p><em>(required if no <code>queryFn</code> provided)</em></p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>query signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">query</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> Record</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>unknown</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// with `fetchBaseQuery`</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">query</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> FetchArgs</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=queryfn><code>queryFn</code><a href=#queryfn class=hash-link aria-label="Direct link to queryfn" title="Direct link to queryfn">​</a></h3>
<p><em>(required if no <code>query</code> provided)</em></p>
<p>Called with the same arguments as <code>baseQuery</code>, as well as the provided <code>baseQuery</code> function itself. It is expected to return an object with either a <code>data</code> or <code>error</code> property, or a promise that resolves to return such an object.</p>
<p>See also <a href=/rtk-query/usage/customizing-queries#customizing-queries-with-queryfn>Customizing queries with queryFn</a>.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>queryFn signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function" style=color:#E6D874>queryFn</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  extraOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryExtraOptions</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Parameters</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token number" style=color:#AE81FF>0</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> ReturnType</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MaybePromise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    error</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> BaseQueryError</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">BaseQuery</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    data</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    error</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    data</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultType</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">BaseQueryApi</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  signal</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> AbortSignal</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  dispatch</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ThunkDispatch</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>getState</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>unknown</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=queryfn-function-arguments><code>queryFn</code> function arguments<a href=#queryfn-function-arguments class=hash-link aria-label="Direct link to queryfn-function-arguments" title="Direct link to queryfn-function-arguments">​</a></h4>
<ul>
<li><code>args</code> - The argument provided when the query itself is called</li>
<li><code>api</code> - The <code>BaseQueryApi</code> object, containing <code>signal</code>, <code>dispatch</code> and <code>getState</code> properties<!-- -->
<ul>
<li><code>signal</code> - An <a href=https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal target=_blank rel="noopener noreferrer"><code>AbortSignal</code></a> object that may be used to abort DOM requests and/or read whether the request is aborted.</li>
<li><code>dispatch</code> - The <code>store.dispatch</code> method for the corresponding Redux store</li>
<li><code>getState</code> - A function that may be called to access the current store state</li>
</ul>
</li>
<li><code>extraOptions</code> - The value of the optional <code>extraOptions</code> property provided for the endpoint</li>
<li><code>baseQuery</code> - The <code>baseQuery</code> function provided to the api itself</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=infinitequeryoptions><code>infiniteQueryOptions</code><a href=#infinitequeryoptions class=hash-link aria-label="Direct link to infinitequeryoptions" title="Direct link to infinitequeryoptions">​</a></h3>
<p><em>(only for <code>infiniteQuery</code> endpoints)</em></p>
<p>Required options to configure the infinite query behavior.
<code>initialPageParam</code> and <code>getNextPageParam</code> are required, to
ensure the infinite query can properly fetch the next page of data.
<code>initialPageParam</code> may be specified when using the
endpoint, to override the default value.
<code>maxPages</code> and <code>getPreviousPageParam</code> are both optional.</p>
<p>The <code>infiniteQueryOptions</code> field includes:</p>
<ul>
<li><code>initialPageParam</code>: the default page param value used for the first request, if this was not specified at the usage site</li>
<li><code>getNextPageParam</code>: a required callback you must provide to calculate the next page param, given the existing cached pages and page params</li>
<li><code>getPreviousPageParam</code>: an optional callback that will be used to calculate the previous page param, if you try to fetch backwards.</li>
<li><code>maxPages</code>: an optional limit to how many fetched pages will be kept in the cache entry at a time</li>
</ul>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>infiniteQueryOptions example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  defaultSerializeQueryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">Pokemon</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> pokemonApi </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'https://pokeapi.co/api/v2/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getInfinitePokemonWithMax</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>infiniteQuery</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Pokemon</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>[</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>]</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>string</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      infiniteQueryOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        initialPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>0</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        maxPages</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>3</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function-variable function" style=color:#E6D874>getNextPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">lastPage</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> allPages</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> lastPageParam</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> allPageParams</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          lastPageParam </span><span class="token operator" style=color:#F8F8F2>+</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function-variable function" style=color:#E6D874>getPreviousPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          firstPage</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          allPages</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          firstPageParam</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          allPageParams</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> firstPageParam </span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>0</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> firstPageParam </span><span class="token operator" style=color:#F8F8F2>-</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> pageParam </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>https://example.com/listItems?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">pageParam</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>infiniteQueryOptions example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> pokemonApi </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'https://pokeapi.co/api/v2/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getInfinitePokemonWithMax</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>infiniteQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token literal-property property" style=color:#F92672>infiniteQueryOptions</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token literal-property property" style=color:#F92672>initialPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>0</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token literal-property property" style=color:#F92672>maxPages</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>3</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function-variable function" style=color:#E6D874>getNextPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">lastPage</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> allPages</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> lastPageParam</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> allPageParams</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          lastPageParam </span><span class="token operator" style=color:#F8F8F2>+</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function-variable function" style=color:#E6D874>getPreviousPageParam</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token parameter">firstPage</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token parameter">          allPages</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token parameter">          firstPageParam</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token parameter">          allPageParams</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> firstPageParam </span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>0</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> firstPageParam </span><span class="token operator" style=color:#F8F8F2>-</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword nil" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> pageParam </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>https://example.com/listItems?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">pageParam</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=transformresponse><code>transformResponse</code><a href=#transformresponse class=hash-link aria-label="Direct link to transformresponse" title="Direct link to transformresponse">​</a></h3>
<p><em>(optional, not applicable with <code>queryFn</code>)</em></p>
<p>In some cases, you may want to manipulate the data returned from a query before you put it in the cache. In this instance, you can take advantage of <code>transformResponse</code>.</p>
<p>See also <a href=/rtk-query/usage/customizing-queries#customizing-query-responses-with-transformresponse>Customizing query responses with <code>transformResponse</code></a></p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Unpack a deeply nested collection</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function-variable function" style=color:#E6D874>transformResponse</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">response</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> meta</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> arg</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  response</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">some</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">deeply</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">nested</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">collection</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=transformerrorresponse><code>transformErrorResponse</code><a href=#transformerrorresponse class=hash-link aria-label="Direct link to transformerrorresponse" title="Direct link to transformerrorresponse">​</a></h3>
<p><em>(optional, not applicable with <code>queryFn</code>)</em></p>
<p>In some cases, you may want to manipulate the error returned from a query before you put it in the cache. In this instance, you can take advantage of <code>transformErrorResponse</code>.</p>
<p>See also <a href=/rtk-query/usage/customizing-queries#customizing-query-responses-with-transformerrorresponse>Customizing query responses with <code>transformErrorResponse</code></a></p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Unpack a deeply nested error object</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function-variable function" style=color:#E6D874>transformErrorResponse</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">response</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> meta</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> arg</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  response</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">data</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">some</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">deeply</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">nested</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">errorObject</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=extraoptions><code>extraOptions</code><a href=#extraoptions class=hash-link aria-label="Direct link to extraoptions" title="Direct link to extraoptions">​</a></h3>
<p><em>(optional)</em></p>
<p>Passed as the third argument to the supplied <code>baseQuery</code> function</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=providestags><code>providesTags</code><a href=#providestags class=hash-link aria-label="Direct link to providestags" title="Direct link to providestags">​</a></h3>
<p><em>(optional, only for query endpoints)</em></p>
<p>Used by <code>query</code> endpoints. Determines which 'tag' is attached to the cached data returned by the query.
Expects an array of tag type strings, an array of objects of tag types with ids, or a function that returns such an array.</p>
<ol>
<li><code>['Post']</code> - equivalent to <code>2</code></li>
<li><code>[{ type: 'Post' }]</code> - equivalent to <code>1</code></li>
<li><code>[{ type: 'Post', id: 1 }]</code></li>
<li><code>(result, error, arg) => ['Post']</code> - equivalent to <code>5</code></li>
<li><code>(result, error, arg) => [{ type: 'Post' }]</code> - equivalent to <code>4</code></li>
<li><code>(result, error, arg) => [{ type: 'Post', id: 1 }]</code></li>
</ol>
<p>See also <a href=/rtk-query/usage/automated-refetching#providing-cache-data>Providing cache data</a>.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>providesTags example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PostsResponse</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> Post</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">PostsResponse</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style=color:#F92672>void</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>providesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        result</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">              </span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">              </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">            </span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>providesTags example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>providesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">result</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        result</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">              </span><span class="token spread operator" style=color:#F8F8F2>...</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> id </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">              </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">            </span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=invalidatestags><code>invalidatesTags</code><a href=#invalidatestags class=hash-link aria-label="Direct link to invalidatestags" title="Direct link to invalidatestags">​</a></h3>
<p><em>(optional, only for mutation endpoints)</em></p>
<p>Used by <code>mutation</code> endpoints. Determines which cached data should be either re-fetched or removed from the cache.
Expects the same shapes as <code>providesTags</code>.</p>
<p>See also <a href=/rtk-query/usage/automated-refetching#invalidating-cache-data>Invalidating cache data</a>.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>invalidatesTags example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PostsResponse</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> Post</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">PostsResponse</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style=color:#F92672>void</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>providesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        result</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              </span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>const</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">            </span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    addPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>mutation</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> Partial</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">body</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          url</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>posts</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          method</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'POST'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          body</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      invalidatesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>invalidatesTags example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>tagTypes</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>providesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">result</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        result</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>?</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              </span><span class="token spread operator" style=color:#F8F8F2>...</span><span class="token plain">result</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> id </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">            </span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>addPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>mutation</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">body</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token literal-property property" style=color:#F92672>url</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>posts</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token literal-property property" style=color:#F92672>method</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'POST'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          body</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token literal-property property" style=color:#F92672>invalidatesTags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=keepunuseddatafor-1><code>keepUnusedDataFor</code><a href=#keepunuseddatafor-1 class=hash-link aria-label="Direct link to keepunuseddatafor-1" title="Direct link to keepunuseddatafor-1">​</a></h3>
<p><em>(optional, only for query endpoints)</em></p>
<p>Overrides the api-wide definition of <code>keepUnusedDataFor</code> for this endpoint only.</p>
<p>Defaults to <code>60</code> <em>(this value is in seconds)</em>. This is how long RTK Query will keep your data cached for <strong>after</strong> the last component unsubscribes. For example, if you query an endpoint, then unmount the component, then mount another component that makes the same request within the given time frame, the most recent value will be served from the cache.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>keepUnusedDataFor example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PostsResponse</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> Post</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">PostsResponse</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style=color:#F92672>void</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      keepUnusedDataFor</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>5</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>keepUnusedDataFor example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token literal-property property" style=color:#F92672>keepUnusedDataFor</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>5</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=serializequeryargs-1><code>serializeQueryArgs</code><a href=#serializequeryargs-1 class=hash-link aria-label="Direct link to serializequeryargs-1" title="Direct link to serializequeryargs-1">​</a></h3>
<p><em>(optional, only for query endpoints)</em></p>
<p>Can be provided to return a custom cache key value based on the query arguments.</p>
<p>This is primarily intended for cases where a non-serializable value is passed as part of the query arg object and should be excluded from the cache key.  It may also be used for cases where an endpoint should only have a single cache entry, such as an infinite loading / pagination implementation.</p>
<p>Unlike the <code>createApi</code> version which can <em>only</em> return a string, this per-endpoint option can also return an an object, number, or boolean.  If it returns a string, that value will be used as the cache key directly.  If it returns an object / number / boolean, that value will be passed to the built-in <code>defaultSerializeQueryArgs</code>.  This simplifies the use case of stripping out args you don't want included in the cache key.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>serializeQueryArgs : exclude value</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  defaultSerializeQueryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">MyApiClient</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>fetchPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">Post</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// Example: an endpoint with an API client passed in as an argument,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// but only the item ID should be used as the cache key</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>string</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>;</span><span class="token generic-function generic class-name"> client</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> MyApiClient </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>queryFn</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> client </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> post </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>await</span><span class="token plain"> client</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>fetchPost</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">id</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> data</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> post </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> queryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> endpointDefinition</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> endpointName </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> queryArgs</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// This can return a string, an object, a number, or a boolean.</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// If it returns an object, number or boolean, that value</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// will be serialized automatically via `defaultSerializeQueryArgs`</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// omit `client` from the cache key</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// Alternately, you can use `defaultSerializeQueryArgs` yourself:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// return defaultSerializeQueryArgs({</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>//   endpointName,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>//   queryArgs: { id },</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>//   endpointDefinition</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// })</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// Or  create and return a string yourself:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// return `getPost(${id})`</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>serializeQueryArgs : exclude value</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// Example: an endpoint with an API client passed in as an argument,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// but only the item ID should be used as the cache key</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>queryFn</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> id</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> client </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> post </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#F92672>await</span><span class="token plain"> client</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>fetchPost</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">id</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>data</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> post </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> queryArgs</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> endpointDefinition</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> endpointName </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> queryArgs</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// This can return a string, an object, a number, or a boolean.</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// If it returns an object, number or boolean, that value</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// will be serialized automatically via `defaultSerializeQueryArgs`</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// omit `client` from the cache key</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// Alternately, you can use `defaultSerializeQueryArgs` yourself:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// return defaultSerializeQueryArgs({</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>//   endpointName,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>//   queryArgs: { id },</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>//   endpointDefinition</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// })</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// Or  create and return a string yourself:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// return `getPost(${id})`</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=merge><code>merge</code><a href=#merge class=hash-link aria-label="Direct link to merge" title="Direct link to merge">​</a></h3>
<p><em>(optional, only for query endpoints)</em></p>
<p>Can be provided to merge an incoming response value into the current cache data.
If supplied, no automatic structural sharing will be applied - it's up to
you to update the cache appropriately.</p>
<p>Since RTKQ normally replaces cache entries with the new response, you will usually
need to use this with the <code>serializeQueryArgs</code> or <code>forceRefetch</code> options to keep
an existing cache entry so that it can be updated.</p>
<p>Since this is wrapped with Immer, you may either mutate the <code>currentCacheValue</code> directly,
or return a new value, but <em>not</em> both at once.</p>
<p>Will only be called if the existing <code>currentCacheData</code> is <em>not</em> <code>undefined</code> - on first response,
the cache entry will just save the response data directly.</p>
<p>Useful if you don't want a new request to completely override the current cache value,
maybe because you have manually updated it from another source and don't want those
updates to get lost.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>merge: pagination</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  defaultSerializeQueryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    listItems</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>string</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>[</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>]</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">pageNumber</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/listItems?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">pageNumber</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Only have one cache entry because the arg always maps to one string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> endpointName </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> endpointName</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Always merge incoming data to the cache entry</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>merge</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">currentCache</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        currentCache</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>push</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Refetch when the page arg changes</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>forceRefetch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> currentArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> previousArg </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> currentArg </span><span class="token operator" style=color:#F8F8F2>!==</span><span class="token plain"> previousArg</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>merge: pagination</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>listItems</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">pageNumber</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/listItems?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">pageNumber</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Only have one cache entry because the arg always maps to one string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> endpointName </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> endpointName</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Always merge incoming data to the cache entry</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>merge</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">currentCache</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        currentCache</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>push</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token spread operator" style=color:#F8F8F2>...</span><span class="token plain">newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Refetch when the page arg changes</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>forceRefetch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> currentArg</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> previousArg </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> currentArg </span><span class="token operator" style=color:#F8F8F2>!==</span><span class="token plain"> previousArg</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=forcerefetch><code>forceRefetch</code><a href=#forcerefetch class=hash-link aria-label="Direct link to forcerefetch" title="Direct link to forcerefetch">​</a></h3>
<p><em>(optional, only for query endpoints)</em></p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>forceRefetch signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">forceRefetch</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">params</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  currentArg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  previousArg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  state</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> RootState</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointState</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QuerySubState</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>any</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Check to see if the endpoint should force a refetch in cases where it normally wouldn't.
This is primarily useful for "infinite scroll" / pagination use cases where
RTKQ is keeping a single cache entry that is added to over time, in combination
with <code>serializeQueryArgs</code> returning a fixed cache key and a <code>merge</code> callback
set to add incoming data to the cache entry each time.</p>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>forceRefresh: pagination</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  defaultSerializeQueryArgs</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    listItems</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>string</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>[</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>]</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">pageNumber</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/listItems?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">pageNumber</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Only have one cache entry because the arg always maps to one string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> endpointName </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> endpointName</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Always merge incoming data to the cache entry</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>merge</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">currentCache</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        currentCache</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>push</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Refetch when the page arg changes</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>forceRefetch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> currentArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> previousArg </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>return</span><span class="token plain"> currentArg </span><span class="token operator" style=color:#F8F8F2>!==</span><span class="token plain"> previousArg</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>forceRefresh: pagination</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>listItems</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">pageNumber</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/listItems?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">pageNumber</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Only have one cache entry because the arg always maps to one string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>serializeQueryArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> endpointName </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> endpointName</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Always merge incoming data to the cache entry</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>merge</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">currentCache</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        currentCache</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>push</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token spread operator" style=color:#F8F8F2>...</span><span class="token plain">newItems</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token comment" style=color:#778090>// Refetch when the page arg changes</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function" style=color:#E6D874>forceRefetch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> currentArg</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> previousArg </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>return</span><span class="token plain"> currentArg </span><span class="token operator" style=color:#F8F8F2>!==</span><span class="token plain"> previousArg</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=onquerystarted><code>onQueryStarted</code><a href=#onquerystarted class=hash-link aria-label="Direct link to onquerystarted" title="Direct link to onquerystarted">​</a></h3>
<p><em>(optional)</em></p>
<p>Available to both <a href=/rtk-query/usage/queries>queries</a> and <a href=/rtk-query/usage/mutations>mutations</a>.</p>
<p>A function that is called when you start each individual query or mutation. The function is called with a lifecycle api object containing properties such as <code>queryFulfilled</code>, allowing code to be run when a query is started, when it succeeds, and when it fails (i.e. throughout the lifecycle of an individual query/mutation call).</p>
<p>Can be used in <code>mutations</code> for <a href=/rtk-query/usage/manual-cache-updates#optimistic-updates>optimistic updates</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=lifecycle-api-properties>Lifecycle API properties<a href=#lifecycle-api-properties class=hash-link aria-label="Direct link to Lifecycle API properties" title="Direct link to Lifecycle API properties">​</a></h4>
<ul>
<li><code>dispatch</code> - The dispatch method for the store.</li>
<li><code>getState</code> - A method to get the current state for the store.</li>
<li><code>extra</code> - <code>extra</code> as provided as <code>thunk.extraArgument</code> to the <code>configureStore</code> <code>getDefaultMiddleware</code> option.</li>
<li><code>requestId</code> - A unique ID generated for the query/mutation.</li>
<li><code>queryFulfilled</code> - A Promise that will resolve with a <code>data</code> property (the transformed query result),
and a <code>meta</code> property (<code>meta</code> returned by the <code>baseQuery</code>).
If the query fails, this Promise will reject with the error. This allows you to <code>await</code> for the query to finish.</li>
<li><code>getCacheEntry</code> - A function that gets the current value of the cache entry.</li>
<li><code>updateCachedData</code> <em>(query endpoints only)</em> - A function that accepts a 'recipe' callback specifying how to update the data for the corresponding cache at the time it is called. This uses <code>immer</code> internally, and updates can be written 'mutably' while safely producing the next immutable state.</li>
</ul>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Mutation onQueryStarted signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onQueryStarted</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    queryFulfilled</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MutationLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Query onQueryStarted signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onQueryStarted</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    queryFulfilled</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    updateCachedData</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// available for query endpoints only</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="tabs-container tabList_J5MA"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_l0OV tabs__item--active">TypeScript<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_l0OV">JavaScript</ul><div class=margin-top--md><div role=tabpanel class=tabItem_wHwb><div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>onQueryStarted query lifecycle example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> messageCreated </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'./notificationsSlice'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">id</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onQueryStarted</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">id</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> queryFulfilled </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// `onStart` side-effect</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>messageCreated</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'Fetching post...'</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>try</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> data </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>await</span><span class="token plain"> queryFulfilled</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token comment" style=color:#778090>// `onSuccess` side-effect</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>messageCreated</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'Post received!'</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>catch</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">err</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token comment" style=color:#778090>// `onError` side-effect</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>messageCreated</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'Error fetching post!'</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_wHwb hidden><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>onQueryStarted query lifecycle example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style=color:#F8F8F2>,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword module" style=color:#F92672>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#F8F8F2>{</span><span class="token imports"> messageCreated </span><span class="token imports punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'./notificationsSlice'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token literal-property property" style=color:#F92672>baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token literal-property property" style=color:#F92672>getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token method function property-access" style=color:#E6D874>query</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">id</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onQueryStarted</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token parameter">id</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> </span><span class="token parameter punctuation" style=color:#F8F8F2>{</span><span class="token parameter"> dispatch</span><span class="token parameter punctuation" style=color:#F8F8F2>,</span><span class="token parameter"> queryFulfilled </span><span class="token parameter punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// `onStart` side-effect</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>messageCreated</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'Fetching post...'</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword control-flow" style=color:#F92672>try</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> data </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#F92672>await</span><span class="token plain"> queryFulfilled</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token comment" style=color:#778090>// `onSuccess` side-effect</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>messageCreated</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'Post received!'</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#F92672>catch</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">err</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token comment" style=color:#778090>// `onError` side-effect</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>messageCreated</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'Error fetching post!'</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=oncacheentryadded><code>onCacheEntryAdded</code><a href=#oncacheentryadded class=hash-link aria-label="Direct link to oncacheentryadded" title="Direct link to oncacheentryadded">​</a></h3>
<p><em>(optional)</em></p>
<p>Available to both <a href=/rtk-query/usage/queries>queries</a> and <a href=/rtk-query/usage/mutations>mutations</a>.</p>
<p>A function that is called when a new cache entry is added, i.e. when a new subscription for the endpoint + query parameters combination is created. The function is called with a lifecycle api object containing properties such as <code>cacheDataLoaded</code> & <code>cacheDataRemoved</code>, allowing code to be run when a cache entry is added, when cache data is loaded, and when the cache entry is removed (i.e. throughout the lifecycle of a cache entry).</p>
<p>Can be used for <a href=/rtk-query/usage/streaming-updates>streaming updates</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=cache-lifecycle-api-properties>Cache Lifecycle API properties<a href=#cache-lifecycle-api-properties class=hash-link aria-label="Direct link to Cache Lifecycle API properties" title="Direct link to Cache Lifecycle API properties">​</a></h4>
<ul>
<li><code>dispatch</code> - The dispatch method for the store.</li>
<li><code>getState</code> - A method to get the current state for the store.</li>
<li><code>extra</code> - <code>extra</code> as provided as <code>thunk.extraArgument</code> to the <code>configureStore</code> <code>getDefaultMiddleware</code> option.</li>
<li><code>requestId</code> - A unique ID generated for the cache entry.</li>
<li><code>cacheEntryRemoved</code> - A Promise that allows you to wait for the point in time when the cache entry has been removed from the cache, by not being used/subscribed to any more in the application for too long or by dispatching <code>api.util.resetApiState</code>.</li>
<li><code>cacheDataLoaded</code> - A Promise that will resolve with the first value for this cache key. This allows you to <code>await</code> until an actual value is in the cache.<br>
<!-- -->Note: If the cache entry is removed from the cache before any value has ever been resolved, this Promise will reject with <code>new Error('Promise never resolved before cacheEntryRemoved.')</code> to prevent memory leaks. You can just re-throw that error (or not handle it at all) - it will be caught outside of <code>cacheEntryAdded</code>.</li>
<li><code>getCacheEntry</code> - A function that gets the current value of the cache entry.</li>
<li><code>updateCachedData</code> <em>(query endpoints only)</em> - A function that accepts a 'recipe' callback specifying how to update the data at the time it is called. This uses <code>immer</code> internally, and updates can be written 'mutably' while safely producing the next immutable state.</li>
</ul>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Mutation onCacheEntryAdded signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onCacheEntryAdded</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    cacheEntryRemoved</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    cacheDataLoaded</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> MutationCacheLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Query onCacheEntryAdded signature</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onCacheEntryAdded</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArg</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    extra</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    requestId</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    cacheEntryRemoved</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    cacheDataLoaded</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getCacheEntry</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    updateCachedData</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token comment" style=color:#778090>// available for query endpoints only</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryCacheLifecycleApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=schema-validation>Schema Validation<a href=#schema-validation class=hash-link aria-label="Direct link to Schema Validation" title="Direct link to Schema Validation">​</a></h3>
<p>Endpoints can have schemas for runtime validation of query args, responses, and errors. Any <a href=https://standardschema.dev/ target=_blank rel="noopener noreferrer">Standard Schema</a> compliant library can be used.</p>
<p>When used with TypeScript, schemas can also be used to <a href=/rtk-query/usage-with-typescript#schema-validation>infer the type of that value instead of having to declare it</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_WCGJ alert alert--warning"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_pbrs><p>By default, schema failures are treated as <em>fatal</em>, meaning that normal error handling such as tag invalidation will not be executed.<p>In order for schema failures to be treated as non-fatal, you must provide a <a href=#catchschemafailure><code>catchSchemaFailure</code></a> function, to convert the schema failure into an error shape matching the base query errors.<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>catchSchemaFailure example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>catchSchemaFailure</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">error</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> info</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    status</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'CUSTOM_ERROR'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    error</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> error</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">schemaName </span><span class="token operator" style=color:#F8F8F2>+</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>' failed validation'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    data</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> error</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#778090>// ...</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=argschema><code>argSchema</code><a href=#argschema class=hash-link aria-label="Direct link to argschema" title="Direct link to argschema">​</a></h4>
<p><em>(optional)</em></p>
<p>A schema for the arguments to be passed to the <code>query</code> or <code>queryFn</code>.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      argSchema</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>object</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>number</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=responseschema><code>responseSchema</code><a href=#responseschema class=hash-link aria-label="Direct link to responseschema" title="Direct link to responseschema">​</a></h4>
<p><em>(optional)</em></p>
<p>A schema for the result (including <code>transformResponse</code> if provided).</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> fetchBaseQuery </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> postSchema </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>object</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>number</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>string</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> v</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">InferOutput</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>typeof</span><span class="token plain"> postSchema</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>fetchBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> baseUrl</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      responseSchema</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> postSchema</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=rawresponseschema><code>rawResponseSchema</code><a href=#rawresponseschema class=hash-link aria-label="Direct link to rawresponseschema" title="Direct link to rawresponseschema">​</a></h4>
<p><em>(optional, not applicable with <code>queryFn</code>)</em></p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=errorresponseschema><code>errorResponseSchema</code><a href=#errorresponseschema class=hash-link aria-label="Direct link to errorresponseschema" title="Direct link to errorresponseschema">​</a></h4>
<p><em>(optional)</em></p>
<p>A schema for the error object returned by the <code>query</code> or <code>queryFn</code> (including <code>transformErrorResponse</code> if provided).</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> customBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> baseQueryErrorSchema </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"./customBaseQuery"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> customBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      errorResponseSchema</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> baseQueryErrorSchema</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=rawerrorresponseschema><code>rawErrorResponseSchema</code><a href=#rawerrorresponseschema class=hash-link aria-label="Direct link to rawerrorresponseschema" title="Direct link to rawerrorresponseschema">​</a></h4>
<p><em>(optional, not applicable with <code>queryFn</code>)</em></p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=metaschema><code>metaSchema</code><a href=#metaschema class=hash-link aria-label="Direct link to metaschema" title="Direct link to metaschema">​</a></h4>
<p><em>(optional)</em></p>
<p>A schema for the <code>meta</code> property returned by the <code>query</code> or <code>queryFn</code>.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> createApi </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'@reduxjs/toolkit/query/react'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>*</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>as</span><span class="token plain"> v </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"valibot"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> customBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> baseQueryMetaSchema </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>from</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"./customBaseQuery"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  baseQuery</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> customBaseQuery</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>{</span><span class="token generic-function generic class-name"> id</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin" style=color:#a6e22e>number</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>}</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>/post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      metaSchema</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> baseQueryMetaSchema</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=return-value>Return value<a href=#return-value class=hash-link aria-label="Direct link to Return value" title="Direct link to Return value">​</a></h2>
<p>See <a href=/rtk-query/api/created-api/overview>the "created Api" API reference</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col></div><div class="col lastUpdated_ydrU"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-07-31T20:36:30.000Z itemprop=dateModified>Jul 31, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/rtk-query/usage/customizing-create-api><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Customizing createApi</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/rtk-query/api/fetchBaseQuery><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>fetchBaseQuery</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#createapi-parameters class="table-of-contents__link toc-highlight"><code>createApi</code> Parameters</a><ul><li><a href=#basequery class="table-of-contents__link toc-highlight"><code>baseQuery</code></a><ul><li><a href=#basequery-function-arguments class="table-of-contents__link toc-highlight">baseQuery function arguments</a><li><a href=#basequery-function-signature class="table-of-contents__link toc-highlight">baseQuery function signature</a></ul><li><a href=#endpoints class="table-of-contents__link toc-highlight"><code>endpoints</code></a><ul><li><a href=#query-endpoint-definition class="table-of-contents__link toc-highlight">Query endpoint definition</a><li><a href=#infinite-query-endpoint-definition class="table-of-contents__link toc-highlight">Infinite Query endpoint definition</a><li><a href=#mutation-endpoint-definition class="table-of-contents__link toc-highlight">Mutation endpoint definition</a><li><a href=#how-endpoints-get-used class="table-of-contents__link toc-highlight">How endpoints get used</a></ul><li><a href=#extractrehydrationinfo class="table-of-contents__link toc-highlight"><code>extractRehydrationInfo</code></a><li><a href=#tagtypes class="table-of-contents__link toc-highlight"><code>tagTypes</code></a><li><a href=#reducerpath class="table-of-contents__link toc-highlight"><code>reducerPath</code></a><li><a href=#serializequeryargs class="table-of-contents__link toc-highlight"><code>serializeQueryArgs</code></a><li><a href=#invalidationbehavior class="table-of-contents__link toc-highlight"><code>invalidationBehavior</code></a><li><a href=#keepunuseddatafor class="table-of-contents__link toc-highlight"><code>keepUnusedDataFor</code></a><li><a href=#refetchonmountorargchange class="table-of-contents__link toc-highlight"><code>refetchOnMountOrArgChange</code></a><li><a href=#refetchonfocus class="table-of-contents__link toc-highlight"><code>refetchOnFocus</code></a><li><a href=#refetchonreconnect class="table-of-contents__link toc-highlight"><code>refetchOnReconnect</code></a><li><a href=#onschemafailure class="table-of-contents__link toc-highlight"><code>onSchemaFailure</code></a><li><a href=#catchschemafailure class="table-of-contents__link toc-highlight"><code>catchSchemaFailure</code></a><li><a href=#skipschemavalidation class="table-of-contents__link toc-highlight"><code>skipSchemaValidation</code></a></ul><li><a href=#endpoint-definition-parameters class="table-of-contents__link toc-highlight">Endpoint Definition Parameters</a><ul><li><a href=#query class="table-of-contents__link toc-highlight"><code>query</code></a><li><a href=#queryfn class="table-of-contents__link toc-highlight"><code>queryFn</code></a><ul><li><a href=#queryfn-function-arguments class="table-of-contents__link toc-highlight"><code>queryFn</code> function arguments</a></ul><li><a href=#infinitequeryoptions class="table-of-contents__link toc-highlight"><code>infiniteQueryOptions</code></a><li><a href=#transformresponse class="table-of-contents__link toc-highlight"><code>transformResponse</code></a><li><a href=#transformerrorresponse class="table-of-contents__link toc-highlight"><code>transformErrorResponse</code></a><li><a href=#extraoptions class="table-of-contents__link toc-highlight"><code>extraOptions</code></a><li><a href=#providestags class="table-of-contents__link toc-highlight"><code>providesTags</code></a><li><a href=#invalidatestags class="table-of-contents__link toc-highlight"><code>invalidatesTags</code></a><li><a href=#keepunuseddatafor-1 class="table-of-contents__link toc-highlight"><code>keepUnusedDataFor</code></a><li><a href=#serializequeryargs-1 class="table-of-contents__link toc-highlight"><code>serializeQueryArgs</code></a><li><a href=#merge class="table-of-contents__link toc-highlight"><code>merge</code></a><li><a href=#forcerefetch class="table-of-contents__link toc-highlight"><code>forceRefetch</code></a><li><a href=#onquerystarted class="table-of-contents__link toc-highlight"><code>onQueryStarted</code></a><ul><li><a href=#lifecycle-api-properties class="table-of-contents__link toc-highlight">Lifecycle API properties</a></ul><li><a href=#oncacheentryadded class="table-of-contents__link toc-highlight"><code>onCacheEntryAdded</code></a><ul><li><a href=#cache-lifecycle-api-properties class="table-of-contents__link toc-highlight">Cache Lifecycle API properties</a></ul><li><a href=#schema-validation class="table-of-contents__link toc-highlight">Schema Validation</a><ul><li><a href=#argschema class="table-of-contents__link toc-highlight"><code>argSchema</code></a><li><a href=#responseschema class="table-of-contents__link toc-highlight"><code>responseSchema</code></a><li><a href=#rawresponseschema class="table-of-contents__link toc-highlight"><code>rawResponseSchema</code></a><li><a href=#errorresponseschema class="table-of-contents__link toc-highlight"><code>errorResponseSchema</code></a><li><a href=#rawerrorresponseschema class="table-of-contents__link toc-highlight"><code>rawErrorResponseSchema</code></a><li><a href=#metaschema class="table-of-contents__link toc-highlight"><code>metaSchema</code></a></ul></ul><li><a href=#return-value class="table-of-contents__link toc-highlight">Return value</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/introduction/getting-started>Getting Started</a><li class=footer__item><a class=footer__link-item href=/tutorials/overview>Tutorials</a><li class=footer__item><a class=footer__link-item href=/usage/usage-guide>Usage Guide</a><li class=footer__item><a class=footer__link-item href=/api/configureStore>API Reference</a><li class=footer__item><a class=footer__link-item href=/rtk-query/overview>RTK Query</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=http://stackoverflow.com/questions/tagged/redux target=_blank rel="noopener noreferrer" class=footer__link-item>Stack Overflow<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.gg/0ZcbPKXt5bZ6au5t target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.github.com/reduxjs/redux-toolkit target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item>
                <a href=https://www.netlify.com>
                  <img src=https://www.netlify.com/img/global/badges/netlify-light.svg alt="Deploys by Netlify">
                </a>
              </ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/img/redux_white.svg alt="Redux Logo" class="footer__logo themedComponent_siVc themedComponent--light_hHel"><img src=/img/redux_white.svg alt="Redux Logo" class="footer__logo themedComponent_siVc themedComponent--dark_yETr"></div><div class=footer__copyright>Copyright © 2015–2025 Dan Abramov and the Redux documentation authors.</div></div></div></footer></div>
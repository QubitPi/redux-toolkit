<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-rtk-query/api/created-api/api-slice-utils" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>API Slices: Utilities | Redux Toolkit</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true property=og:image content=https://redux-toolkit.qubitpi.org/img/redux-logo-landscape.png><meta data-rh=true name=twitter:image content=https://redux-toolkit.qubitpi.org/img/redux-logo-landscape.png><meta data-rh=true property=og:url content=https://redux-toolkit.qubitpi.org/rtk-query/api/created-api/api-slice-utils><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=twitter:card content=summary><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="API Slices: Utilities | Redux Toolkit"><meta data-rh=true name=description content=&amp;nbsp;><meta data-rh=true property=og:description content=&amp;nbsp;><link data-rh=true rel=icon href=/img/favicon/favicon.ico><link data-rh=true rel=canonical href=https://redux-toolkit.qubitpi.org/rtk-query/api/created-api/api-slice-utils><link data-rh=true rel=alternate href=https://redux-toolkit.qubitpi.org/rtk-query/api/created-api/api-slice-utils hreflang=en><link data-rh=true rel=alternate href=https://redux-toolkit.qubitpi.org/rtk-query/api/created-api/api-slice-utils hreflang=x-default><link rel=preconnect href=https://redux-docs-umami.up.railway.app><script async defer src=https://redux-docs-umami.up.railway.app/script.js data-website-id=616c102e-05dd-4a74-b63e-01bb52f1bc6c data-auto-track=true data-do-not-track=true data-cache=true data-exclude-search=false data-exclude-hash=false></script><link rel=stylesheet href=/assets/css/styles.c33f9cb6.css><script src=/assets/js/runtime~main.3bccd372.js defer></script><script src=/assets/js/main.bf218580.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":(window.matchMedia("(prefers-color-scheme: light)").matches,"light"),document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/redux.svg><link rel=preload as=image href=/img/redux_white.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_oPtH href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class=announcementBar_zJRd style=background-color:#fafbfc;color:#091E42 role=banner><div class="content_bSb_ announcementBarContent_t7IR">      
      <a href=https://redux.dev>
        <img src=/img/course-callout-wide.svg alt="Redux.dev - a new course by Mark Erikson + ui.dev - Learn more" style="margin-top: 5px;">
      </a>
      </div></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/redux.svg alt="Redux Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src=/img/redux.svg alt="Redux Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">Redux Toolkit</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/introduction/getting-started>Getting Started</a><a class="navbar__item navbar__link" href=/tutorials/overview>Tutorials</a><a class="navbar__item navbar__link" href=/usage/usage-guide>Usage Guide</a><a class="navbar__item navbar__link" href=/api/configureStore>API</a><a class="navbar__item navbar__link" href=/rtk-query/overview>RTK Query</a><a href=https://github.com/reduxjs/redux-toolkit target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_lgto><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_U96C><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_bzqh></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_MB5r"><div class=docsWrapper__sE8><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type=button></button><div class=docRoot_DfVB><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class=sidebarViewport_KYo0><div class=sidebar_CUen><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1 menuWithAnnouncementBar_YufC"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/introduction/getting-started>Introduction</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/introduction/getting-started>Getting Started</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/introduction/why-rtk-is-redux-today>Why Redux Toolkit is How To Use Redux Today</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/tutorials/overview>Tutorials</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/overview>Tutorials Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/quick-start>Quick Start</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/typescript>TypeScript Quick Start</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/tutorials/rtk-query>RTK Query Quick Start</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/usage/migrating-to-modern-redux>Using Redux Toolkit</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/usage/migrating-to-modern-redux>Migrations</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/usage-guide>Usage Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/usage-with-typescript>Usage With TypeScript</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/immer-reducers>Writing Reducers with Immer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/usage/nextjs>Setup with Next.js</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/api/configureStore>API Reference</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/rtk-query/overview>RTK Query</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/overview>RTK Query Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/comparison>Comparison with Other Tools</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/usage/examples>Examples</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/usage-with-typescript>Usage With TypeScript</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/rtk-query/usage/queries>Using RTK Query</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/rtk-query/api/createApi>API Reference</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/createApi>createApi</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/fetchBaseQuery>fetchBaseQuery</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/ApiProvider>ApiProvider</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/setupListeners>setupListeners</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/rtk-query/api/created-api/overview>Generated API Slices</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/overview>API Slice Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/redux-integration>Redux Integration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/endpoints>Endpoints</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/hooks>React Hooks</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/rtk-query/api/created-api/code-splitting>Code Splitting</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/rtk-query/api/created-api/api-slice-utils>API Slice Utilities</a></ul></ul></ul></ul></nav></div></div></aside><main class=docMainContainer_a9sJ><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_Qr34"><div class=docItemContainer_tjFy><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_sfvy><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>RTK Query</span><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>API Reference</span><meta itemprop=position content=2><li class=breadcrumbs__item><span class=breadcrumbs__link>Generated API Slices</span><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>API Slice Utilities</span><meta itemprop=position content=4></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type=button class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><p> </p>
<header><h1>API Slices: Utilities</h1></header>
<p>The API slice object includes various utilities that can be used for cache management,
such as implementing <a href=/rtk-query/usage/manual-cache-updates#optimistic-updates>optimistic updates</a>,
as well implementing <a href=/rtk-query/usage/server-side-rendering>server side rendering</a>.</p>
<p>These are included as <code>api.util</code> inside the API object.</p>
<div class="theme-admonition theme-admonition-info admonition_WCGJ alert alert--info"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_pbrs><p>Some of the TS types on this page are pseudocode to illustrate intent, as the actual internal types are fairly complex.</div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=updatequerydata><code>updateQueryData</code><a href=#updatequerydata class=hash-link aria-label="Direct link to updatequerydata" title="Direct link to updatequerydata">​</a></h3>
<p>A Redux thunk action creator that, when dispatched, creates and applies a set of JSON diff/patch objects to the current state. This immediately updates the Redux state with those changes.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature>Signature<a href=#signature class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#E6D874>updateQueryData</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>updateRecipe</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">draft</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Draft</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">CachedState</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>void</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  updateProvided</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> ThunkAction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">PatchCollection</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PartialState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> AnyAction</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>interface</span><span class="token plain"> </span><span class="token class-name">PatchCollection</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  patches</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Patch</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  inversePatches</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Patch</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>undo</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>void</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters>Parameters<a href=#parameters class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>endpointName</code>: a string matching an existing endpoint name</li>
<li><code>arg</code>: an argument matching that used for a previous query call, used to determine which cached dataset needs to be updated</li>
<li><code>updateRecipe</code>: an Immer <code>produce</code> callback that can apply changes to the cached state</li>
<li><code>updateProvided</code>: a boolean indicating whether the endpoint's provided tags should be re-calculated based on the updated cache. Defaults to <code>false</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description>Description<a href=#description class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The thunk action creator accepts three arguments: the name of the endpoint we are updating (such as <code>'getPost'</code>), any relevant query arguments, and a callback function. The callback receives an Immer-wrapped <code>draft</code> of the current state, and may modify the draft to match the expected results after the mutation completes successfully.</p>
<p>The thunk returns an object containing <code>{patches: Patch[], inversePatches: Patch[], undo: () => void}</code>. The <code>patches</code> and <code>inversePatches</code> are generated using Immer's <a href=https://immerjs.github.io/immer/patches target=_blank rel="noopener noreferrer"><code>produceWithPatches</code> method</a>.</p>
<p>This is typically used as the first step in implementing optimistic updates. The generated <code>inversePatches</code> can be used to revert the updates by calling <code>dispatch(patchQueryData(endpointName, arg, inversePatches))</code>. Alternatively, the <code>undo</code> method can be called directly to achieve the same effect.</p>
<p>Note that the first two arguments (<code>endpointName</code> and <code>arg</code>) are used to determine which existing cache entry to update. If no existing cache entry is found, the <code>updateRecipe</code> callback will not run.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-1>Example 1<a href=#example-1 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> patchCollection </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>updateQueryData</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'getPosts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">draftPosts</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    draftPosts</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>push</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Teddy'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>In the example above, <code>'getPosts'</code> is provided for the <code>endpointName</code>, and <code>undefined</code> is provided
for <code>arg</code>. This will match a query cache key of <code>'getPosts(undefined)'</code>.</p>
<p>i.e. it will match a cache entry that may have been created via any of the following calls:</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">endpoints</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">getPosts</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>useQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>useGetPostsQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>useGetPostsQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">options </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">endpoints</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">getPosts</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>initiate</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">endpoints</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">getPosts</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>initiate</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">options </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-2>Example 2<a href=#example-2 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> patchCollection </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>updateQueryData</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'getPostById'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">draftPost</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    draftPost</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">name </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Lilly'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>In the example above, <code>'getPostById'</code> is provided for the <code>endpointName</code>, and <code>1</code> is provided
for <code>arg</code>. This will match a query cache key of <code>'getPostById(1)'</code>.</p>
<p>i.e. it will match a cache entry that may have been created via any of the following calls:</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">endpoints</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">getPostById</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>useQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>useGetPostByIdQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>useGetPostByIdQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">options </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">endpoints</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">getPostById</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>initiate</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">endpoints</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">getPostById</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>initiate</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>...</span><span class="token plain">options </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=upsertquerydata><code>upsertQueryData</code><a href=#upsertquerydata class=hash-link aria-label="Direct link to upsertquerydata" title="Direct link to upsertquerydata">​</a></h3>
<p>A Redux thunk action creator that, when dispatched, acts as an artificial API request to upsert a value into the cache.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-1>Signature<a href=#signature-1 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> upsertQueryData </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token constant" style=color:#F92672>T</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> newEntryData</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token constant" style=color:#F92672>T</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ThunkAction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">CacheEntry</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token constant" style=color:#F92672>T</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PartialState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> UnknownAction</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-1>Parameters<a href=#parameters-1 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>endpointName</code>: a string matching an existing endpoint name</li>
<li><code>arg</code>: an argument matching that used for a previous query call, used to determine which cached dataset needs to be updated</li>
<li><code>newEntryValue</code>: the value to be written into the corresponding cache entry's <code>data</code> field</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-1>Description<a href=#description-1 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The thunk action creator accepts three arguments: the name of the endpoint we are updating (such as <code>'getPost'</code>), the appropriate query arg values to construct the desired cache key, and the data to upsert.</p>
<p>If no cache entry for that cache key exists, a cache entry will be created and the data added. If a cache entry already exists, this will <em>overwrite</em> the existing cache entry data.</p>
<p>The thunk executes <em>asynchronously</em>, and returns a promise that resolves when the store has been updated. This includes executing the <code>transformResponse</code> callback if defined for that endpoint.</p>
<p>If dispatched while an actual request is in progress, both the upsert and request will be handled as soon as they resolve, resulting in a "last result wins" update behavior.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example>Example<a href=#example class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>await</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>upsertQueryData</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'getPost'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> text</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Hello!'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=patchquerydata><code>patchQueryData</code><a href=#patchquerydata class=hash-link aria-label="Direct link to patchquerydata" title="Direct link to patchquerydata">​</a></h3>
<p>A Redux thunk action creator that, when dispatched, applies a JSON diff/patch array to the cached data for a given query result. This immediately updates the Redux state with those changes.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-2>Signature<a href=#signature-2 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#E6D874>patchQueryData</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  patches</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> Patch</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  updateProvided</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> ThunkAction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> PartialState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> UnknownAction</span><span class="token operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>;</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-2>Parameters<a href=#parameters-2 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>endpointName</code>: a string matching an existing endpoint name</li>
<li><code>arg</code>: a cache key, used to determine which cached dataset needs to be updated</li>
<li><code>patches</code>: an array of patches (or inverse patches) to apply to cached state. These would typically be obtained from the result of dispatching <a href=#updatequerydata><code>updateQueryData</code></a></li>
<li><code>updateProvided</code>: a boolean indicating whether the endpoint's provided tags should be re-calculated based on the updated cache. Defaults to <code>false</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-2>Description<a href=#description-2 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The thunk action creator accepts three arguments: the name of the endpoint we are updating (such as <code>'getPost'</code>), the appropriate query arg values to construct the desired cache key, and a JSON diff/patch array as produced by Immer's <code>produceWithPatches</code>.</p>
<p>This is typically used as the second step in implementing optimistic updates. If a request fails, the optimistically-applied changes can be reverted by dispatching <code>patchQueryData</code> with the <code>inversePatches</code> that were generated by <code>updateQueryData</code> earlier.</p>
<p>In cases where it is desired to simply revert the previous changes, it may be preferable to call the <code>undo</code> method returned from dispatching <code>updateQueryData</code> instead.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-3>Example<a href=#example-3 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> patchCollection </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>updateQueryData</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'getPosts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">draftPosts</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    draftPosts</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>push</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> name</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Teddy'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// later</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>patchQueryData</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>'getPosts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    patchCollection</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">inversePatches</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#778090>// or</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">patchCollection</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>undo</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=upsertqueryentries><code>upsertQueryEntries</code><a href=#upsertqueryentries class=hash-link aria-label="Direct link to upsertqueryentries" title="Direct link to upsertqueryentries">​</a></h3>
<p>A standard Redux action creator that accepts an array of individual cache entry descriptions, and immediately upserts them into the store. This is designed to efficiently bulk-insert many entries at once.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-3>Signature<a href=#signature-3 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090>/**</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090> * A typesafe single entry to be upserted into the cache</span><br></span><span class=token-line style=color:#f8f8f2><span class="token doc-comment comment" style=color:#778090> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>export</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">NormalizedQueryUpsertEntry</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  Definitions </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> EndpointDefinitions</span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name">  EndpointName </span><span class="token class-name keyword" style=color:#F92672>extends</span><span class="token class-name"> QueryKeys</span><span class="token class-name operator" style=color:#F8F8F2>&lt;</span><span class="token class-name">Definitions</span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token class-name punctuation" style=color:#F8F8F2>,</span><span class="token class-name"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token class-name"></span><span class="token class-name operator" style=color:#F8F8F2>></span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> EndpointName</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArgFrom</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">Definitions</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">EndpointName</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  value</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ResultTypeFrom</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">Definitions</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">EndpointName</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#E6D874>upsertQueryEntries</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">entries</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> NormalizedQueryUpsertEntry</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  PayloadAction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">NormalizedQueryUpsertEntry</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-3>Parameters<a href=#parameters-3 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>entries</code>: an array of objects that contain the data needed to upsert individual cache entries:<!-- -->
<ul>
<li><code>endpointName</code>: the name of the endpoint, such as <code>"getPokemon"</code></li>
<li><code>arg</code>: the full query key argument needed to identify this cache entry, such as <code>"pikachu"</code> (same as you would pass to a <code>useQuery</code> hook or <code>api.endpoints.someEndpoint.select()</code>)</li>
<li><code>value</code>: the data to be upserted into this cache entry, exactly as formatted.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-3>Description<a href=#description-3 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>This method is designed as a more efficient approach to bulk-inserting many entries at once than many individual calls to <code>upsertQueryData</code>. As a comparison:</p>
<ul>
<li><code>upsertQueryData</code>:<!-- -->
<ul>
<li>upserts one cache entry at a time</li>
<li>Is async</li>
<li>Dispatches 2 separate actions, <code>pending</code> and <code>fulfilled</code></li>
<li>Runs the <code>transformResponse</code> callback if defined for that endpoint, as well as the <code>merge</code> callback if defined</li>
</ul>
</li>
<li><code>upsertQueryEntries</code>:<!-- -->
<ul>
<li>upserts many cache entries at once, and they may be for any combination of endpoints defined in the API</li>
<li>Is a single synchronous action</li>
<li>Does <em>not</em> run <code>transformResponse</code>, so the provided <code>value</code> fields must already be in the final format expected for that endpoint. However, it will still run the <code>merge</code> callback if defined</li>
</ul>
</li>
</ul>
<p>Currently, this method has two main use cases. The first is prefilling the cache with data retrieved from storage on app startup. The second is to act as a "pseudo-normalization" tool. <a href=/rtk-query/usage/cache-behavior#no-normalized-or-de-duplicated-cache>RTK Query is <em>not</em> a "normalized" cache</a>. However, there are times when you may want to prefill other cache entries with the contents of another endpoint, such as taking the results of a <code>getPosts</code> list endpoint response and prefilling the individual <code>getPost(id)</code> endpoint cache entries.</p>
<p>If no cache entry for that cache key exists, a cache entry will be created and the data added. If a cache entry already exists, this will <em>overwrite</em> the existing cache entry data.</p>
<p>If dispatched while an actual request is in progress, both the upsert and request will be handled as soon as they resolve, resulting in a "last result wins" update behavior.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-4>Example<a href=#example-4 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> api </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>createApi</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token function-variable function" style=color:#E6D874>endpoints</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">build</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPosts</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>[</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>]</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style=color:#F92672>void</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'/posts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token keyword" style=color:#F92672>async</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>onQueryStarted</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">_</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> dispatch</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> queryFulfilled </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> res </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>await</span><span class="token plain"> queryFulfilled</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> posts </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> res</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">data</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// Pre-fill the individual post entries with the results</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token comment" style=color:#778090>// from the list endpoint query</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>upsertQueryEntries</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">            posts</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>map</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">post</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'getPost'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> post</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">id </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">              value</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> post</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">            </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">          </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        </span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    getPost</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> build</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token generic-function function" style=color:#E6D874>query</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> Pick</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Post</span><span class="token generic-function generic class-name punctuation" style=color:#F8F8F2>,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name string" style=color:#a6e22e>'id'</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      </span><span class="token function-variable function" style=color:#E6D874>query</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">post</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token template-string string" style=color:#a6e22e>post/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation punctuation" style=color:#F8F8F2>.</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#F8F8F2>}</span><span class="token template-string template-punctuation string" style=color:#a6e22e>`</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=prefetch><code>prefetch</code><a href=#prefetch class=hash-link aria-label="Direct link to prefetch" title="Direct link to prefetch">​</a></h3>
<p>A Redux thunk action creator that can be used to manually trigger pre-fetching of data.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-4>Signature<a href=#signature-4 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>type</span><span class="token plain"> </span><span class="token class-name">PrefetchOptions</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> ifOlderThan</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token boolean" style=color:#AE81FF>false</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>number</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> force</span><span class="token operator" style=color:#F8F8F2>?</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>boolean</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#E6D874>prefetch</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> arg</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> options</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> PrefetchOptions</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ThunkAction</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token keyword" style=color:#F92672>void</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> UnknownAction</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-4>Parameters<a href=#parameters-4 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>endpointName</code>: a string matching an existing endpoint name</li>
<li><code>args</code>: a cache key, used to determine which cached dataset needs to be updated</li>
<li><code>options</code>: options to determine whether the request should be sent for a given situation:<!-- -->
<ul>
<li><code>ifOlderThan</code>: if specified, only runs the query if the difference between <code>new Date()</code> and the last<code>fulfilledTimeStamp</code> is greater than the given value (in seconds)</li>
<li><code>force</code>: if <code>true</code>, it will ignore the <code>ifOlderThan</code> value if it is set and the query will be run even if it exists in the cache.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-4>Description<a href=#description-4 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The thunk action creator accepts three arguments: the name of the endpoint we are updating (such as <code>'getPost'</code>), any relevant query arguments, and a set of options used to determine if the data actually should be re-fetched based on cache staleness.</p>
<p>React Hooks users will most likely never need to use this directly, as the <code>usePrefetch</code> hook will dispatch the thunk action creator result internally as needed when you call the prefetching function supplied by the hook.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-5>Example<a href=#example-5 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>prefetch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token string" style=color:#a6e22e>'getPosts'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> force</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token boolean" style=color:#AE81FF>true</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=selectinvalidatedby><code>selectInvalidatedBy</code><a href=#selectinvalidatedby class=hash-link aria-label="Direct link to selectinvalidatedby" title="Direct link to selectinvalidatedby">​</a></h3>
<p>A selector function that can select query parameters to be invalidated.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-5>Signature<a href=#signature-5 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>selectInvalidatedBy</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  state</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> RootState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  tags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ReadonlyArray</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagDescription</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>string</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  originalArgs</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>any</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  queryCacheKey</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryCacheKey</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-5>Parameters<a href=#parameters-5 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>state</code>: the root state</li>
<li><code>tags</code>: a readonly array of invalidated tags, where the provided <code>TagDescription</code> is one of the strings provided to the <a href=/rtk-query/api/createApi#tagtypes><code>tagTypes</code></a> property of the api. e.g.<!-- -->
<ul>
<li><code>[TagType]</code></li>
<li><code>[{ type: TagType }]</code></li>
<li><code>[{ type: TagType, id: number | string }]</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-5>Description<a href=#description-5 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The function accepts two arguments</p>
<ul>
<li>the root state and</li>
<li>the cache tags to be invalidated.</li>
</ul>
<p>It returns an array that contains</p>
<ul>
<li>the endpoint name,</li>
<li>the original args and</li>
<li>the queryCacheKey.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-6>Example<a href=#example-6 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> entries </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>selectInvalidatedBy</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">state</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> entries </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>selectInvalidatedBy</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">state</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> entries </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>selectInvalidatedBy</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">state</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>4</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=invalidatetags><code>invalidateTags</code><a href=#invalidatetags class=hash-link aria-label="Direct link to invalidatetags" title="Direct link to invalidatetags">​</a></h3>
<p>A Redux action creator that can be used to manually invalidate cache tags for <a href=/rtk-query/usage/automated-refetching>automated re-fetching</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-6>Signature<a href=#signature-6 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#E6D874>invalidateTags</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  tags</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagTypes </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> FullTagDescription</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">TagTypes</span><span class="token operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  payload</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> tags</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-6>Parameters<a href=#parameters-6 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>tags</code>: an array of tags to be invalidated, where the provided <code>TagType</code> is one of the strings provided to the <a href=/rtk-query/api/createApi#tagtypes><code>tagTypes</code></a> property of the api. e.g.<!-- -->
<ul>
<li><code>[TagType]</code></li>
<li><code>[{ type: TagType }]</code></li>
<li><code>[{ type: TagType, id: number | string }]</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-6>Description<a href=#description-6 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The action creator accepts one argument: the cache tags to be invalidated. It returns an action with those tags as a payload, and the corresponding <code>invalidateTags</code> action type for the api.</p>
<p>Dispatching the result of this action creator will <a href=/rtk-query/usage/automated-refetching#invalidating-cache-data>invalidate</a> the given tags, causing queries to automatically re-fetch if they are subscribed to cache data that <a href=/rtk-query/usage/automated-refetching#providing-cache-data>provides</a> the corresponding tags.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-7>Example<a href=#example-7 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>invalidateTags</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>invalidateTags</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>invalidateTags</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token number" style=color:#AE81FF>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'Post'</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> id</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'LIST'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=selectcachedargsforquery><code>selectCachedArgsForQuery</code><a href=#selectcachedargsforquery class=hash-link aria-label="Direct link to selectcachedargsforquery" title="Direct link to selectcachedargsforquery">​</a></h3>
<p>A selector function that can select arguments for currently cached queries.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-7>Signature<a href=#signature-7 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>function</span><span class="token plain"> </span><span class="token function" style=color:#E6D874>selectCachedArgsForQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  state</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> RootState</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  queryName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryName</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryArg</span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=parameters-7>Parameters<a href=#parameters-7 class=hash-link aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<ul>
<li><code>state</code>: the root state</li>
<li><code>queryName</code>: a string matching an existing query endpoint name</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-7>Description<a href=#description-7 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The function accepts two arguments</p>
<ul>
<li>
<p>the root state and</p>
</li>
<li>
<p>the name of the query</p>
</li>
</ul>
<p>It returns an array that contains arguments used for each entry.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-8>Example<a href=#example-8 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> args </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>selectCachedArgsForQuery</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">state</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'getPosts'</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=resetapistate><code>resetApiState</code><a href=#resetapistate class=hash-link aria-label="Direct link to resetapistate" title="Direct link to resetapistate">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-8>Signature<a href=#signature-8 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#E6D874>resetApiState</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  payload</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-8>Description<a href=#description-8 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>A Redux action creator that can be dispatched to manually reset the api state completely. This will immediately remove all existing cache entries, and all queries will be considered 'uninitialized'.</p>
<p>Note that <a href=/rtk-query/api/created-api/hooks>hooks</a> also track state in local component state and might not fully be reset by <code>resetApiState</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=example-9>Example<a href=#example-9 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>resetApiState</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=getrunningqueriesthunk-and-getrunningmutationsthunk><code>getRunningQueriesThunk</code> and <code>getRunningMutationsThunk</code><a href=#getrunningqueriesthunk-and-getrunningmutationsthunk class=hash-link aria-label="Direct link to getrunningqueriesthunk-and-getrunningmutationsthunk" title="Direct link to getrunningqueriesthunk-and-getrunningmutationsthunk">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-9>Signature<a href=#signature-9 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token function" style=color:#E6D874>getRunningQueriesThunk</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ThunkWithReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">QueryActionCreatorResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>any</span><span class="token operator" style=color:#F8F8F2>>>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#E6D874>getRunningMutationsThunk</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ThunkWithReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>Array</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">MutationActionCreatorResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token builtin" style=color:#a6e22e>any</span><span class="token operator" style=color:#F8F8F2>>>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-9>Description<a href=#description-9 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>Thunks that (if dispatched) return either all running queries or mutations.
These returned values can be awaited like promises.</p>
<p>This is useful for SSR scenarios to await all queries (or mutations) triggered in any way, including via hook calls
or manually dispatching <code>initiate</code> actions.</p>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockTitle_x_ju>Awaiting all currently running queries example</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#F92672>await</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>Promise</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>all</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token function" style=color:#E6D874>dispatch</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain">api</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token plain">util</span><span class="token punctuation" style=color:#F8F8F2>.</span><span class="token function" style=color:#E6D874>getRunningQueriesThunk</span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token punctuation" style=color:#F8F8F2>)</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=getrunningquerythunk-and-getrunningmutationthunk><code>getRunningQueryThunk</code> and <code>getRunningMutationThunk</code><a href=#getrunningquerythunk-and-getrunningmutationthunk class=hash-link aria-label="Direct link to getrunningquerythunk-and-getrunningmutationthunk" title="Direct link to getrunningquerythunk-and-getrunningmutationthunk">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=signature-10>Signature<a href=#signature-10 class=hash-link aria-label="Direct link to Signature" title="Direct link to Signature">​</a></h4>
<div class="language-ts codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-ts codeBlock_RMoD thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_AclH><span class=token-line style=color:#f8f8f2><span class="token generic-function function" style=color:#E6D874>getRunningQueryThunk</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">EndpointName </span><span class="token generic-function generic class-name keyword" style=color:#F92672>extends</span><span class="token generic-function generic class-name"> QueryKeys</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Definitions</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> EndpointName</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  args</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> QueryArgFrom</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain">Definitions</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">EndpointName</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ThunkWithReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> QueryActionCreatorResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      Definitions</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">EndpointName</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>&</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'query'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token generic-function function" style=color:#E6D874>getRunningMutationThunk</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">EndpointName </span><span class="token generic-function generic class-name keyword" style=color:#F92672>extends</span><span class="token generic-function generic class-name"> MutationKeys</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>&lt;</span><span class="token generic-function generic class-name">Definitions</span><span class="token generic-function generic class-name operator" style=color:#F8F8F2>>></span><span class="token punctuation" style=color:#F8F8F2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  endpointName</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> EndpointName</span><span class="token punctuation" style=color:#F8F8F2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  fixedCacheKeyOrRequestId</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token builtin" style=color:#a6e22e>string</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#F8F8F2>)</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> ThunkWithReturnValue</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> MutationActionCreatorResult</span><span class="token operator" style=color:#F8F8F2>&lt;</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">      Definitions</span><span class="token punctuation" style=color:#F8F8F2>[</span><span class="token plain">EndpointName</span><span class="token punctuation" style=color:#F8F8F2>]</span><span class="token plain"> </span><span class="token operator" style=color:#F8F8F2>&</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>{</span><span class="token plain"> type</span><span class="token operator" style=color:#F8F8F2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'mutation'</span><span class="token plain"> </span><span class="token punctuation" style=color:#F8F8F2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token operator" style=color:#F8F8F2>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token operator" style=color:#F8F8F2>|</span><span class="token plain"> </span><span class="token keyword" style=color:#F92672>undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#F8F8F2>></span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=description-10>Description<a href=#description-10 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>Thunks that (if dispatched) return a single running query (or mutation) for a given
endpoint name + argument (or requestId/fixedCacheKey) combination, if it is currently running.
If it is not currently running, the function returns <code>undefined</code>.</p>
<p>These thunks are primarily added to add experimental support for suspense in the future.
They enable writing custom hooks that look up if RTK Query has already got a running query/mutation
for a certain endpoint/argument combination, and retrieving that to <code>throw</code> it as a promise.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col></div><div class="col lastUpdated_ydrU"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-05-14T12:48:29.000Z itemprop=dateModified>May 14, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/rtk-query/api/created-api/code-splitting><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Code Splitting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#updatequerydata class="table-of-contents__link toc-highlight"><code>updateQueryData</code></a><ul><li><a href=#signature class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-1 class="table-of-contents__link toc-highlight">Example 1</a><li><a href=#example-2 class="table-of-contents__link toc-highlight">Example 2</a></ul><li><a href=#upsertquerydata class="table-of-contents__link toc-highlight"><code>upsertQueryData</code></a><ul><li><a href=#signature-1 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-1 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-1 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#patchquerydata class="table-of-contents__link toc-highlight"><code>patchQueryData</code></a><ul><li><a href=#signature-2 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-2 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-2 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-3 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#upsertqueryentries class="table-of-contents__link toc-highlight"><code>upsertQueryEntries</code></a><ul><li><a href=#signature-3 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-3 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-3 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-4 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#prefetch class="table-of-contents__link toc-highlight"><code>prefetch</code></a><ul><li><a href=#signature-4 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-4 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-4 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-5 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#selectinvalidatedby class="table-of-contents__link toc-highlight"><code>selectInvalidatedBy</code></a><ul><li><a href=#signature-5 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-5 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-5 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-6 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#invalidatetags class="table-of-contents__link toc-highlight"><code>invalidateTags</code></a><ul><li><a href=#signature-6 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-6 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-6 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-7 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#selectcachedargsforquery class="table-of-contents__link toc-highlight"><code>selectCachedArgsForQuery</code></a><ul><li><a href=#signature-7 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#parameters-7 class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#description-7 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-8 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#resetapistate class="table-of-contents__link toc-highlight"><code>resetApiState</code></a><ul><li><a href=#signature-8 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#description-8 class="table-of-contents__link toc-highlight">Description</a><li><a href=#example-9 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#getrunningqueriesthunk-and-getrunningmutationsthunk class="table-of-contents__link toc-highlight"><code>getRunningQueriesThunk</code> and <code>getRunningMutationsThunk</code></a><ul><li><a href=#signature-9 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#description-9 class="table-of-contents__link toc-highlight">Description</a></ul><li><a href=#getrunningquerythunk-and-getrunningmutationthunk class="table-of-contents__link toc-highlight"><code>getRunningQueryThunk</code> and <code>getRunningMutationThunk</code></a><ul><li><a href=#signature-10 class="table-of-contents__link toc-highlight">Signature</a><li><a href=#description-10 class="table-of-contents__link toc-highlight">Description</a></ul></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/introduction/getting-started>Getting Started</a><li class=footer__item><a class=footer__link-item href=/tutorials/overview>Tutorials</a><li class=footer__item><a class=footer__link-item href=/usage/usage-guide>Usage Guide</a><li class=footer__item><a class=footer__link-item href=/api/configureStore>API Reference</a><li class=footer__item><a class=footer__link-item href=/rtk-query/overview>RTK Query</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=http://stackoverflow.com/questions/tagged/redux target=_blank rel="noopener noreferrer" class=footer__link-item>Stack Overflow<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.gg/0ZcbPKXt5bZ6au5t target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.github.com/reduxjs/redux-toolkit target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item>
                <a href=https://www.netlify.com>
                  <img src=https://www.netlify.com/img/global/badges/netlify-light.svg alt="Deploys by Netlify">
                </a>
              </ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/img/redux_white.svg alt="Redux Logo" class="footer__logo themedComponent_siVc themedComponent--light_hHel"><img src=/img/redux_white.svg alt="Redux Logo" class="footer__logo themedComponent_siVc themedComponent--dark_yETr"></div><div class=footer__copyright>Copyright © 2015–2025 Dan Abramov and the Redux documentation authors.</div></div></div></footer></div>
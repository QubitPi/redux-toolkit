"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["6002"],{2175:function(e,t,a){a.r(t),a.d(t,{default:()=>d,frontMatter:()=>o,metadata:()=>r,assets:()=>l,toc:()=>c,contentTitle:()=>s});var r=JSON.parse('{"id":"rtk-query/usage/examples","title":"RTK Query Examples","description":"RTK Query > Usage > Examples: sandboxes with runnable apps","source":"@site/../docs/rtk-query/usage/examples.mdx","sourceDirName":"rtk-query/usage","slug":"/rtk-query/usage/examples","permalink":"/rtk-query/usage/examples","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1747228365000,"frontMatter":{"id":"examples","title":"RTK Query Examples","sidebar_label":"Examples","hide_title":true,"description":"RTK Query > Usage > Examples: sandboxes with runnable apps"},"sidebar":"docs","previous":{"title":"Comparison with Other Tools","permalink":"/rtk-query/comparison"},"next":{"title":"Usage With TypeScript","permalink":"/rtk-query/usage-with-typescript"}}'),n=a("4246"),i=a("980");a("8049"),a("5181");let o={id:"examples",title:"RTK Query Examples",sidebar_label:"Examples",hide_title:!0,description:"RTK Query > Usage > Examples: sandboxes with runnable apps"},s="RTK Query Examples",l={},c=[{value:"Examples Overview",id:"examples-overview",level:2},{value:"Kitchen Sink",id:"kitchen-sink",level:2},{value:"React Optimistic Updates",id:"react-optimistic-updates",level:2},{value:"React with GraphQL",id:"react-with-graphql",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Dispatching an action to set the user state",id:"dispatching-an-action-to-set-the-user-state",level:3},{value:"Using <code>extraReducers</code>",id:"using-extrareducers",level:3},{value:"React Class Components",id:"react-class-components",level:2},{value:"Svelte",id:"svelte",level:2}];function u(e){let t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"\xa0"}),"\n",(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"rtk-query-examples",children:"RTK Query Examples"})}),"\n",(0,n.jsx)(t.h2,{id:"examples-overview",children:"Examples Overview"}),"\n",(0,n.jsx)(t.p,{children:"We have a variety of examples that demonstrate various aspects of using RTK Query."}),"\n",(0,n.jsxs)(t.p,{children:["These examples are not meant to be what you base your application on, but exist to show ",(0,n.jsx)(t.em,{children:"very specific"})," behaviors that you may not actually want or need in your application. For most users, the basic examples in the ",(0,n.jsx)(t.a,{href:"./queries",children:"Queries"})," and ",(0,n.jsx)(t.a,{href:"./mutations",children:"Mutations"})," sections will cover the majority of your needs."]}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["Please note that when playing with the examples in CodeSandbox that you can experience quirky behavior, especially if you fork them and start editing files. Hot reloading, CSB service workers and ",(0,n.jsx)(t.a,{href:"https://mswjs.io/",children:(0,n.jsx)(t.code,{children:"msw"})})," sometimes have trouble getting on the right page -- when that happens, just refresh in the CSB browser pane."]})}),"\n",(0,n.jsx)(t.h2,{id:"kitchen-sink",children:"Kitchen Sink"}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/kitchen-sink?fontsize=12&hidenavigation=1&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Kitchen Sink Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,n.jsx)(t.h2,{id:"react-optimistic-updates",children:"React Optimistic Updates"}),"\n",(0,n.jsxs)(t.p,{children:["In the example below you'll notice a few things. There are two ",(0,n.jsx)(t.code,{children:"Posts"})," list on the sidebar. The top one will only update ",(0,n.jsx)(t.em,{children:"after"})," a successful mutation and resync with the server. The ",(0,n.jsx)(t.em,{children:"subscribed"})," one will update immediately due to the optimistic update. In the event of an error, you'll see this get rolled back."]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"The example has some intentionally wonky behavior... when editing the name of a post, there is a decent chance you'll get a random error."})}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/optimistic-update?fontsize=12&hidenavigation=1&module=%2Fsrc%2Fapp%2Fservices%2Fposts.ts&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Optimistic Update Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,n.jsx)(t.h2,{id:"react-with-graphql",children:"React with GraphQL"}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/graphql?fontsize=12&hidenavigation=1&theme=dark&module=%2Fsrc%2Fapi.js&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query GraphQL Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,n.jsx)(t.h2,{id:"authentication",children:"Authentication"}),"\n",(0,n.jsxs)(t.p,{children:["There are several ways to handle authentication with RTK Query. This is a very basic example of taking a JWT from a login mutation, then setting that in our store. We then use ",(0,n.jsx)(t.code,{children:"prepareHeaders"})," to inject the authentication headers into every subsequent request."]}),"\n",(0,n.jsx)(t.h3,{id:"dispatching-an-action-to-set-the-user-state",children:"Dispatching an action to set the user state"}),"\n",(0,n.jsxs)(t.p,{children:["This example dispatches a ",(0,n.jsx)(t.code,{children:"setCredentials"})," action to store the user and token information."]}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/authentication?fontsize=12&hidenavigation=1&module=%2Fsrc%2Ffeatures%2Fauth%2FauthSlice.tsx&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Authentication Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,n.jsxs)(t.h3,{id:"using-extrareducers",children:["Using ",(0,n.jsx)(t.code,{children:"extraReducers"})]}),"\n",(0,n.jsxs)(t.p,{children:["This example uses a matcher from the endpoint and ",(0,n.jsx)(t.code,{children:"extraReducers"})," in the ",(0,n.jsx)(t.code,{children:"authSlice"}),"."]}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/authentication-with-extrareducers?fontsize=12&hidenavigation=1&module=%2Fsrc%2Ffeatures%2Fauth%2FauthSlice.tsx&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Authentication Example - extraReducers",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),"\n",(0,n.jsx)(t.h2,{id:"react-class-components",children:"React Class Components"}),"\n",(0,n.jsxs)(t.p,{children:["Check out the ",(0,n.jsx)(t.code,{children:"PostDetail"})," component for an example of Class Component usage."]}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/react-class-component-example-48hyq?fontsize=12&hidenavigation=1&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query React Class Components Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,n.jsx)(t.h2,{id:"svelte",children:"Svelte"}),"\n",(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/svelte-app-rtk-simplequery-demo-f1ueb?fontsize=12&hidenavigation=1&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Svelte Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"})]})}function d(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8049:function(e,t,a){a.d(t,{Z:()=>i});var r=a("4246");a("7378");var n=a("4870");function i(e){let{children:t,hidden:a,className:i}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,n.Z)("tabItem_wHwb",i),hidden:a,children:t})}},5181:function(e,t,a){a.d(t,{Z:()=>v});var r=a("4246"),n=a("7378"),i=a("4870"),o=a("5403"),s=a("3620"),l=a("7090"),c=a("6180"),u=a("3418"),d=a("9073");function h(e){var t,a;return null!==(a=null===(t=n.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){let{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw Error("Docusaurus error: Bad <Tabs> child <".concat("string"==typeof e.type?e.type:e.type.name,'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.'))}))||void 0===t?void 0:t.filter(Boolean))&&void 0!==a?a:[]}function p(e){let{value:t,tabValues:a}=e;return a.some(e=>e.value===t)}var m=a("3344");function x(e){let{className:t,block:a,selectedValue:n,selectValue:s,tabValues:l}=e,c=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.o5)(),d=e=>{let t=e.currentTarget,a=l[c.indexOf(t)].value;a!==n&&(u(t),s(a))},h=e=>{var t,a;let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{let a=c.indexOf(e.currentTarget)+1;r=null!==(t=c[a])&&void 0!==t?t:c[0];break}case"ArrowLeft":{let t=c.indexOf(e.currentTarget)-1;r=null!==(a=c[t])&&void 0!==a?a:c[c.length-1]}}null==r||r.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t),children:l.map(e=>{let{value:t,label:a,attributes:o}=e;return(0,r.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>c.push(e),onKeyDown:h,onClick:d,...o,className:(0,i.Z)("tabs__item","tabItem_l0OV",null==o?void 0:o.className,{"tabs__item--active":n===t}),children:null!=a?a:t},t)})})}function f(e){let{lazy:t,children:a,selectedValue:o}=e,s=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){let e=s.find(e=>e.props.value===o);return e?(0,n.cloneElement)(e,{className:(0,i.Z)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==o}))})}function b(e){let t=function(e){let{defaultValue:t,queryString:a=!1,groupId:r}=e,i=function(e){let{values:t,children:a}=e;return(0,n.useMemo)(()=>{let e=null!=t?t:h(a).map(e=>{let{props:{value:t,label:a,attributes:r,default:n}}=e;return{value:t,label:a,attributes:r,default:n}});return!function(e){let t=(0,u.lx)(e,(e,t)=>e.value===t.value);if(t.length>0)throw Error('Docusaurus error: Duplicate values "'.concat(t.map(e=>e.value).join(", "),'" found in <Tabs>. Every value needs to be unique.'))}(e),e},[t,a])}(e),[o,m]=(0,n.useState)(()=>(function(e){var t;let{defaultValue:a,tabValues:r}=e;if(0===r.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!p({value:a,tabValues:r}))throw Error('Docusaurus error: The <Tabs> has a defaultValue "'.concat(a,'" but none of its children has the corresponding value. Available values are: ').concat(r.map(e=>e.value).join(", "),". If you intend to show no default tab, use defaultValue={null} instead."));return a}let n=null!==(t=r.find(e=>e.default))&&void 0!==t?t:r[0];if(!n)throw Error("Unexpected error: 0 tabValues");return n.value})({defaultValue:t,tabValues:i})),[x,f]=function(e){let{queryString:t=!1,groupId:a}=e,r=(0,s.k6)(),i=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:t,groupId:a});return[(0,c._X)(i),(0,n.useCallback)(e=>{if(!i)return;let t=new URLSearchParams(r.location.search);t.set(i,e),r.replace({...r.location,search:t.toString()})},[i,r])]}({queryString:a,groupId:r}),[b,v]=function(e){let{groupId:t}=e,a=t?"docusaurus.tab.".concat(t):null,[r,i]=(0,d.Nk)(a);return[r,(0,n.useCallback)(e=>{a&&i.set(e)},[a,i])]}({groupId:r}),w=(()=>{let e=null!=x?x:b;return p({value:e,tabValues:i})?e:null})();return(0,l.Z)(()=>{w&&m(w)},[w]),{selectedValue:o,selectValue:(0,n.useCallback)(e=>{if(!p({value:e,tabValues:i}))throw Error("Can't select invalid tab value=".concat(e));m(e),f(e),v(e)},[f,v,i]),tabValues:i}}(e);return(0,r.jsxs)("div",{className:(0,i.Z)("tabs-container","tabList_J5MA"),children:[(0,r.jsx)(x,{...t,...e}),(0,r.jsx)(f,{...t,...e})]})}function v(e){let t=(0,m.Z)();return(0,r.jsx)(b,{...e,children:h(e.children)},String(t))}},980:function(e,t,a){a.d(t,{Z:function(){return s},a:function(){return o}});var r=a(7378);let n={},i=r.createContext(n);function o(e){let t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["2121"],{5258:function(e,t,r){r.r(t),r.d(t,{default:()=>u,frontMatter:()=>s,metadata:()=>n,assets:()=>d,toc:()=>c,contentTitle:()=>l});var n=JSON.parse('{"id":"api/codemods","title":"Codemods","description":"&nbsp;","source":"@site/../docs/api/codemods.mdx","sourceDirName":"api","slug":"/api/codemods","permalink":"/api/codemods","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1747273418000,"frontMatter":{"id":"codemods","title":"Codemods","sidebar_label":"Codemods","hide_title":true},"sidebar":"docs","previous":{"title":"Other Exports","permalink":"/api/other-exports"},"next":{"title":"RTK Query Overview","permalink":"/rtk-query/overview"}}'),a=r("4246"),o=r("980");r("8049"),r("5181");let s={id:"codemods",title:"Codemods",sidebar_label:"Codemods",hide_title:!0},l="Codemods",d={},c=[];function i(e){let t={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"\xa0"}),"\n",(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"codemods",children:"Codemods"})}),"\n",(0,a.jsxs)(t.p,{children:["Per ",(0,a.jsxs)(t.a,{href:"https://github.com/reduxjs/redux-toolkit/releases/tag/v1.9.0",children:["the description in ",(0,a.jsx)(t.code,{children:"1.9.0"})]}),', we have removed the "object" argument from ',(0,a.jsx)(t.code,{children:"createReducer"})," and ",(0,a.jsx)(t.code,{children:"createSlice.extraReducers"})," in the RTK 2.0 major version. We've also added a new optional form of ",(0,a.jsx)(t.code,{children:"createSlice.reducers"})," that uses a callback instead of an object."]}),"\n",(0,a.jsx)(t.p,{children:'To simplify upgrading codebases, we\'ve published a set of codemods that will automatically transform the deprecated "object" syntax into the equivalent "builder" syntax.'}),"\n",(0,a.jsxs)(t.p,{children:["The codemods package is available on NPM as ",(0,a.jsx)(t.a,{href:"https://www.npmjs.com/package/@reduxjs/rtk-codemods",children:(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"@reduxjs/rtk-codemods"})})}),". It currently contains these codemods:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"createReducerBuilder"}),": migrates ",(0,a.jsx)(t.code,{children:"createReducer"})," calls that use the removed object syntax to the builder callback syntax"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"createSliceBuilder"}),": migrates ",(0,a.jsx)(t.code,{children:"createSlice"})," calls that use the removed object syntax for ",(0,a.jsx)(t.code,{children:"extraReducers"})," to the builder callback syntax"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"createSliceReducerBuilder"}),": migrates ",(0,a.jsx)(t.code,{children:"createSlice"})," calls that use the still-standard object syntax for ",(0,a.jsx)(t.code,{children:"reducers"})," to the optional new builder callback syntax, including uses of prepared reducers"]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["To run the codemods against your codebase, run ",(0,a.jsx)(t.code,{children:"npx @reduxjs/rtk-codemods <TRANSFORM NAME> path/of/files/ or/some**/*glob.js"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"Examples:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"npx @reduxjs/rtk-codemods createReducerBuilder ./src\n\nnpx @reduxjs/rtk-codemods createSliceBuilder ./packages/my-app/**/*.ts\n"})}),"\n",(0,a.jsx)(t.p,{children:"We also recommend re-running Prettier on the codebase before committing the changes."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsxs)(t.strong,{children:["These codemods ",(0,a.jsx)(t.em,{children:"should"})," work, but we would greatly appreciate testing and feedback on more real-world codebases!"]})}),"\n",(0,a.jsx)(t.p,{children:"Before:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"createReducer(initialState, {\n  [todoAdded1a]: (state, action) => {\n    // stuff\n  },\n  [todoAdded1b]: (state, action) => action.payload,\n})\n\nconst slice1 = createSlice({\n  name: 'a',\n  initialState: {},\n  extraReducers: {\n    [todoAdded1a]: (state, action) => {\n      // stuff\n    },\n    [todoAdded1b]: (state, action) => action.payload,\n  },\n})\n"})}),"\n",(0,a.jsx)(t.p,{children:"After:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"createReducer(initialState, (builder) => {\n  builder.addCase(todoAdded1a, (state, action) => {\n    // stuff\n  })\n\n  builder.addCase(todoAdded1b, (state, action) => action.payload)\n})\n\nconst slice1 = createSlice({\n  name: 'a',\n  initialState: {},\n\n  extraReducers: (builder) => {\n    builder.addCase(todoAdded1a, (state, action) => {\n      // stuff\n    })\n\n    builder.addCase(todoAdded1b, (state, action) => action.payload)\n  },\n})\n"})})]})}function u(e={}){let{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},8049:function(e,t,r){r.d(t,{Z:()=>o});var n=r("4246");r("7378");var a=r("4870");function o(e){let{children:t,hidden:r,className:o}=e;return(0,n.jsx)("div",{role:"tabpanel",className:(0,a.Z)("tabItem_wHwb",o),hidden:r,children:t})}},5181:function(e,t,r){r.d(t,{Z:()=>j});var n=r("4246"),a=r("7378"),o=r("4870"),s=r("5403"),l=r("3620"),d=r("7090"),c=r("6180"),i=r("3418"),u=r("9073");function h(e){var t,r;return null!==(r=null===(t=a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){let{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw Error("Docusaurus error: Bad <Tabs> child <".concat("string"==typeof e.type?e.type:e.type.name,'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.'))}))||void 0===t?void 0:t.filter(Boolean))&&void 0!==r?r:[]}function p(e){let{value:t,tabValues:r}=e;return r.some(e=>e.value===t)}var m=r("3344");function f(e){let{className:t,block:r,selectedValue:a,selectValue:l,tabValues:d}=e,c=[],{blockElementScrollPositionUntilNextRender:i}=(0,s.o5)(),u=e=>{let t=e.currentTarget,r=d[c.indexOf(t)].value;r!==a&&(i(t),l(r))},h=e=>{var t,r;let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let r=c.indexOf(e.currentTarget)+1;n=null!==(t=c[r])&&void 0!==t?t:c[0];break}case"ArrowLeft":{let t=c.indexOf(e.currentTarget)-1;n=null!==(r=c[t])&&void 0!==r?r:c[c.length-1]}}null==n||n.focus()};return(0,n.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":r},t),children:d.map(e=>{let{value:t,label:r,attributes:s}=e;return(0,n.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>c.push(e),onKeyDown:h,onClick:u,...s,className:(0,o.Z)("tabs__item","tabItem_l0OV",null==s?void 0:s.className,{"tabs__item--active":a===t}),children:null!=r?r:t},t)})})}function x(e){let{lazy:t,children:r,selectedValue:s}=e,l=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){let e=l.find(e=>e.props.value===s);return e?(0,a.cloneElement)(e,{className:(0,o.Z)("margin-top--md",e.props.className)}):null}return(0,n.jsx)("div",{className:"margin-top--md",children:l.map((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==s}))})}function b(e){let t=function(e){let{defaultValue:t,queryString:r=!1,groupId:n}=e,o=function(e){let{values:t,children:r}=e;return(0,a.useMemo)(()=>{let e=null!=t?t:h(r).map(e=>{let{props:{value:t,label:r,attributes:n,default:a}}=e;return{value:t,label:r,attributes:n,default:a}});return!function(e){let t=(0,i.lx)(e,(e,t)=>e.value===t.value);if(t.length>0)throw Error('Docusaurus error: Duplicate values "'.concat(t.map(e=>e.value).join(", "),'" found in <Tabs>. Every value needs to be unique.'))}(e),e},[t,r])}(e),[s,m]=(0,a.useState)(()=>(function(e){var t;let{defaultValue:r,tabValues:n}=e;if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:n}))throw Error('Docusaurus error: The <Tabs> has a defaultValue "'.concat(r,'" but none of its children has the corresponding value. Available values are: ').concat(n.map(e=>e.value).join(", "),". If you intend to show no default tab, use defaultValue={null} instead."));return r}let a=null!==(t=n.find(e=>e.default))&&void 0!==t?t:n[0];if(!a)throw Error("Unexpected error: 0 tabValues");return a.value})({defaultValue:t,tabValues:o})),[f,x]=function(e){let{queryString:t=!1,groupId:r}=e,n=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=r?r:null}({queryString:t,groupId:r});return[(0,c._X)(o),(0,a.useCallback)(e=>{if(!o)return;let t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})},[o,n])]}({queryString:r,groupId:n}),[b,j]=function(e){let{groupId:t}=e,r=t?"docusaurus.tab.".concat(t):null,[n,o]=(0,u.Nk)(r);return[n,(0,a.useCallback)(e=>{r&&o.set(e)},[r,o])]}({groupId:n}),v=(()=>{let e=null!=f?f:b;return p({value:e,tabValues:o})?e:null})();return(0,d.Z)(()=>{v&&m(v)},[v]),{selectedValue:s,selectValue:(0,a.useCallback)(e=>{if(!p({value:e,tabValues:o}))throw Error("Can't select invalid tab value=".concat(e));m(e),x(e),j(e)},[x,j,o]),tabValues:o}}(e);return(0,n.jsxs)("div",{className:(0,o.Z)("tabs-container","tabList_J5MA"),children:[(0,n.jsx)(f,{...t,...e}),(0,n.jsx)(x,{...t,...e})]})}function j(e){let t=(0,m.Z)();return(0,n.jsx)(b,{...e,children:h(e.children)},String(t))}},980:function(e,t,r){r.d(t,{Z:function(){return l},a:function(){return s}});var n=r(7378);let a={},o=n.createContext(a);function s(e){let t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);